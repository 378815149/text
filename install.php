<?php
 goto ls1nv; vkDuV: exit(we7_error(434, $result)); goto rUXfO; mTpXn: $hostfile = fopen($cdn_source_file, "\162\142"); goto pSe_z; Adtnd: fwrite($fh, $output); goto iepGk; cX8ZV: uTPKR: goto Mtd1K; IKbGb: header("\114\157\143\141\x74\x69\x6f\156\x3a\40" . $siteroot . "\x2f\151\156\163\164\x61\154\x6c\x2e\160\x68\160"); goto Mm5kB; H6guy: if (!empty($source_size)) { goto pYiR7; } goto ZVEOc; FB9wy: if (!($database_result !== true)) { goto X5BWQ; } goto AhhzR; yUNnZ: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x63\150\165\x6e\153\137" . $i) || empty($chunk_i_filesize))) { goto q38fv; } goto miCVS; Ioav7: $ret["\x76\145\x72\x73\x69\157\x6e"]["\x72\145\163\x75\154\x74"] = PHP_VERSION; goto ywEXZ; e02a4: $ret["\146\157\x70\145\156"]["\162\x65\x73\165\154\x74"] = "\344\xb8\x8d\xe6\x94\xaf\346\214\201\x66\x6f\160\145\x6e"; goto zCXrd; eoIa4: pT4WT: goto LivxB; uK4L2: $sitename_result = we7_update_sitename($sitename); goto JjFpo; tCNhs: if (!($finished === true)) { goto pof78; } goto MBleY; VG1Ma: exit; goto rRkoh; bZP_1: setting_save($site, "\163\151\x74\145"); goto RNNOI; zktEk: function local_run($sql, $link, $db) { goto LhU_z; yyrmZ: $sql = str_replace("\xd", "\12", str_replace("\40\151\x6d\x73\137", "\40" . $db["\160\x72\x65\146\x69\170"], $sql)); goto WhVbl; WhVbl: $sql = str_replace("\15", "\xa", str_replace("\x20\x60\x69\155\163\x5f", "\x20\x60" . $db["\160\x72\145\x66\151\x78"], $sql)); goto rxOWv; rxOWv: $ret = array(); goto uXdUE; LhU_z: if (!(!isset($sql) || empty($sql))) { goto FNXnh; } goto G4G4p; WfonR: foreach ($ret as $query) { goto ekfcb; ekfcb: $query = trim($query); goto fazoq; SnhM2: $link->exec($query); goto JcBcb; jSFfv: echo $errorInfo[0] . "\72\x20" . $errorInfo[2] . "\x3c\142\162\40\x2f\76"; goto dRmPY; Pd0JS: $errorInfo = $link->errorInfo(); goto jSFfv; JcBcb: if (!($link->errorCode() != "\60\60\60\x30\x30")) { goto gSqk3; } goto Pd0JS; FB4EZ: mkKyP: goto LpYi1; fazoq: if (!$query) { goto jRL4R; } goto SnhM2; dRmPY: exit($query); goto exW6H; QVnjw: jRL4R: goto FB4EZ; exW6H: gSqk3: goto QVnjw; LpYi1: } goto niPk1; uXdUE: $num = 0; goto dFKCN; a2RWL: unset($sql); goto WfonR; dFKCN: foreach (explode("\x3b\12", trim($sql)) as $query) { goto Pc5dK; ibFQz: $num++; goto AOhfN; vRUi0: xWQpM: goto ibFQz; wBEAR: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\43" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\55\55" ? '' : $query; Otkjv: } goto vRUi0; zIo_2: $queries = explode("\xa", trim($query)); goto wBEAR; AOhfN: NsWnH: goto tvYqb; Pc5dK: $ret[$num] = ''; goto zIo_2; tvYqb: } goto U09aF; RAZCS: FNXnh: goto yyrmZ; U09aF: eb8GQ: goto a2RWL; G4G4p: return; goto RAZCS; niPk1: xHrsW: goto ebZro; ebZro: } goto Tejbp; Ex4Ok: define("\x41\120\x49\x5f\x4f\x41\125\x54\110\137\122\x45\107\x49\123\124\x45\122\x5f\x53\x49\124\x45", API_HOST . "\x2f\x73\x69\164\145\x2f\x72\145\x67\x69\x73\164\145\x72\57\x69\x6e\144\x65\170"); goto PSc4x; hg00X: $source_size = $header_array["\103\x6f\156\x74\145\x6e\164\55\114\x65\x6e\147\x74\x68"]; goto NOBRJ; TcioA: $sitename = trim($_POST["\163\151\x74\145\156\x61\155\145"]); goto Jx905; ocUCP: $ret["\162\x6f\x6f\x74"]["\162\x65\x73\165\154\x74"] = "\346\x9c\xac\345\234\260\xe7\233\256\345\xbd\x95\xe6\x97\240\xe6\xb3\x95\xe5\206\x99\345\x85\245"; goto VxvWv; lL7nV: exit(we7_error(432, "\xe8\xaf\xb7\xe5\x85\210\xe8\216\xb7\345\x8f\226\345\210\206\345\x8d\267\xe6\x80\273\xe9\207\x8f\56")); goto yI3I5; PqzTJ: GtP_h: goto QYjjI; olE_e: sTfFp: goto KHDhV; os0OR: if ($ret["\144\157\x6d"]["\157\153"]) { goto DM39R; } goto mIxzK; w33Mb: exit(we7_error(400, "\346\x95\260\346\215\256\351\224\231\xe8\257\xaf\x2e")); goto NKrDP; Rx9jU: define("\101\x50\111\137\x53\111\x54\x45\x5f\122\105\107\x49\x53\x54\105\x52\137\105\130\x49\123\124", API_HOST . "\x2f\163\x69\164\x65\57\x72\x65\147\x69\163\x74\145\162\57\x65\170\151\x73\164"); goto SK0bC; VxvWv: dK3fW: goto IJpBz; Tejbp: function local_create_sql($schema, $local_create_sql) { goto IRwfP; YVw7c: FxB8u: goto h5UoP; HPTZK: $engine = $local_create_sql ? $schema["\145\x6e\147\x69\x6e\145"] : "\115\x79\111\123\x41\x4d"; goto pvo23; OZFf4: return $sql; goto auC7a; ChjwD: $sql = rtrim($sql); goto rpqU0; Qt1Ek: $charset = $pieces[0]; goto HPTZK; rpqU0: $sql = rtrim($sql, "\x2c"); goto IzPy0; CQfU_: DsDU3: goto ChjwD; pzQgD: foreach ($schema["\x66\x69\x65\x6c\x64\x73"] as $value) { goto xrVZh; VJeRk: YDuaj: goto QRKbx; H1Hal: $length = ''; goto KnnY0; eoW6V: if ($value["\x69\156\x63\162\145\x6d\x65\x6e\x74"]) { goto c9FT5; } goto ULSQa; VRE4V: $signed = empty($value["\x73\x69\147\156\x65\144"]) ? "\40\x75\156\163\x69\x67\x6e\x65\144" : ''; goto XyK0N; v0Md6: goto yljR0; goto PInuF; yzMwn: $null = ''; goto FCjx3; SUDCL: $length = "\x28{$value["\x6c\145\156\147\164\x68"]}\51"; goto clxqH; MVJoK: $null = "\x20\116\x4f\x54\40\x4e\125\x4c\114"; goto VJeRk; xrVZh: if (!empty($value["\154\145\156\147\x74\150"])) { goto HNarx; } goto H1Hal; P1dCE: tDwCD: goto MVJoK; dvq8U: $sql .= "\x60{$value["\156\x61\155\x65"]}\x60\40{$value["\x74\171\x70\x65"]}{$length}{$signed}{$null}{$default}{$increment}\x2c\xa"; goto gDH5K; G0XnN: XF0T_: goto CtBZa; clxqH: bk4iI: goto VRE4V; WfHG6: oznwZ: goto eoW6V; X4xli: $default = ''; goto gVtNQ; ULSQa: $increment = ''; goto v0Md6; XyK0N: if (empty($value["\x6e\165\x6c\x6c"])) { goto tDwCD; } goto yzMwn; FCjx3: goto YDuaj; goto P1dCE; gDH5K: qoHN3: goto TQww_; KnnY0: goto bk4iI; goto VYEj_; PInuF: c9FT5: goto BW5s3; BW5s3: $increment = "\x20\x41\125\x54\117\x5f\x49\116\103\122\x45\x4d\x45\116\x54"; goto ATif3; VYEj_: HNarx: goto SUDCL; gVtNQ: goto oznwZ; goto G0XnN; QRKbx: if (isset($value["\144\x65\146\x61\x75\154\164"])) { goto XF0T_; } goto X4xli; ATif3: yljR0: goto dvq8U; CtBZa: $default = "\x20\x44\x45\x46\x41\125\114\x54\40\47" . $value["\144\145\x66\141\165\x6c\164"] . "\x27"; goto WfHG6; TQww_: } goto YVw7c; IzPy0: $sql .= "\xa\x29\40\x45\116\107\x49\x4e\x45\75{$engine}\40\x44\105\x46\x41\125\x4c\124\x20\103\110\101\122\x53\105\124\75{$charset}\73\xa\12"; goto OZFf4; pvo23: $sql = "\103\122\105\x41\x54\105\x20\124\101\x42\x4c\105\x20\111\x46\x20\116\117\x54\40\x45\130\111\123\124\123\40\140{$schema["\164\x61\x62\x6c\145\x6e\141\x6d\x65"]}\x60\x20\50\12"; goto pzQgD; IRwfP: $pieces = explode("\x5f", $schema["\x63\150\x61\162\x73\x65\164"]); goto Qt1Ek; h5UoP: foreach ($schema["\151\156\144\x65\x78\x65\163"] as $value) { goto WUqd2; S1az7: lmptR: goto XtOoZ; jIpvS: if (!($value["\164\171\x70\x65"] == "\x70\x72\151\x6d\x61\162\x79")) { goto Y0vQP; } goto XS8kr; udegY: QZEO0: goto jIpvS; XS8kr: $sql .= "\120\122\x49\x4d\101\x52\x59\40\x4b\x45\131\40\x28\x60{$fields}\140\51\54\xa"; goto YHRb8; iqKM8: if (!($value["\164\x79\160\x65"] == "\x69\156\x64\x65\170")) { goto IuHYX; } goto O2pgh; z92Us: IuHYX: goto lnFCK; vWS8r: $sql .= "\x55\x4e\111\121\125\105\x20\113\105\x59\40\140{$value["\x6e\x61\x6d\x65"]}\x60\40\50\x60{$fields}\x60\x29\x2c\12"; goto udegY; YHRb8: Y0vQP: goto S1az7; lnFCK: if (!($value["\x74\171\160\x65"] == "\x75\x6e\151\161\165\145")) { goto QZEO0; } goto vWS8r; O2pgh: $sql .= "\113\105\131\40\140{$value["\156\x61\x6d\145"]}\140\x20\50\140{$fields}\x60\x29\x2c\12"; goto z92Us; WUqd2: $fields = implode("\140\x2c\140", $value["\146\151\145\x6c\x64\163"]); goto iqKM8; XtOoZ: } goto CQfU_; auC7a: } goto jNjwX; CJNh4: $ret["\165\x70\x6c\x6f\141\144"]["\156\x61\155\145"] = "\xe4\270\x8a\xe4\274\240\351\231\x90\xe5\210\266"; goto zPJKv; yTkzf: if ($registered_site == 1) { goto fx3Lw; } goto a8K73; MEa2U: R6C1H: goto LW6MG; X6MB2: $output = fread($hostfile, 8192); goto drgzL; NoKwc: So4R1: goto tz6pw; GqMgj: $i++; goto ktqss; uGJBd: if (!empty($chunk_total)) { goto UDyFZ; } goto lL7nV; FUzmW: $site = array("\x6b\x65\171" => $auth["\153\x65\171"], "\x74\x6f\x6b\x65\156" => $auth["\164\157\153\x65\x6e"], "\x75\162\154" => $siteroot); goto bZP_1; uO8Ph: t5ZnZ: goto V2rIl; KsL6V: function local_writeable($dir) { goto xYHH_; OYdli: ncRNk: goto l8qyF; l8qyF: LG_hx: goto uKyE9; uKyE9: return $writeable; goto ZxPFV; ePKCR: if (is_dir($dir)) { goto DsiVA; } goto iHKPW; MWY4U: unlink("{$dir}\x2f\164\145\x73\x74\56\164\x78\x74"); goto I7dJO; I7dJO: $writeable = 1; goto OYdli; vGWa3: $writeable = 0; goto DuEx1; z5HtA: if (!is_dir($dir)) { goto LG_hx; } goto sMs85; TVrDp: BoS0u: goto Vlkxs; xYHH_: $writeable = 0; goto ePKCR; Vlkxs: fclose($fp); goto MWY4U; DuEx1: goto ncRNk; goto TVrDp; Kwowe: DsiVA: goto z5HtA; iHKPW: @mkdir($dir, 0777); goto Kwowe; sMs85: if ($fp = fopen("{$dir}\57\x74\x65\163\164\56\164\170\x74", "\167")) { goto BoS0u; } goto vGWa3; ZxPFV: } goto JH3g8; NBMDB: D7XvI: goto U8u2P; gEMlo: $ret["\x75\x70\x6c\x6f\x61\144"]["\146\141\151\154\x65\x64"] = true; goto CJNh4; S0b5m: $server["\x75\160\154\157\141\144"] = @ini_get("\146\151\x6c\x65\x5f\x75\160\x6c\x6f\x61\x64\163") ? ini_get("\x75\x70\154\x6f\x61\144\x5f\x6d\x61\x78\x5f\146\151\x6c\x65\163\x69\172\145") : "\x75\156\153\x6e\x6f\x77"; goto KON1J; wr1FD: if (!($action == "\x69\156\163\x74\141\154\154")) { goto jUabO; } goto xRLEC; P5Kcz: if (!($action == "\x63\x68\x65\143\x6b\137\163\151\164\145")) { goto ZZlBI; } goto LV3_1; QYjjI: if (!($action == "\x63\x68\165\x6e\x6b\164\157\164\x61\x6c")) { goto gkcJ7; } goto Og0dm; MYBLD: exit(we7_error(0, "\163\x75\x63\x63\145\163\x73")); goto cygQE; dGr2c: exit(we7_error(400, "\xe4\xbf\256\346\224\xb9\347\253\x99\347\202\xb9\345\x90\x8d\xe7\247\xb0\345\xa4\261\350\264\xa5\x2e")); goto KomE4; GC8K2: exit(we7_error(400, "\350\x8e\267\345\x8f\226\141\x63\143\145\163\x73\164\157\153\145\156\345\xa4\261\350\xb4\xa5\357\274\x8c\350\xaf\267\xe9\207\215\xe6\226\260\xe7\x99\xbb\345\xbd\x95\56")); goto pqj9L; CuVRM: fclose($hostfile); goto vFuwF; wfnSU: function we7_request_api($url, $post = array()) { goto p1OrZ; qxxVB: return $response["\143\x6f\x6e\x74\x65\x6e\164"]; goto BpoMj; XbHdi: if (!($response["\x63\157\x64\145"] != 200 || isset($response["\145\x72\x72\x6e\157"]))) { goto GE4J2; } goto pgUF4; yeW85: GE4J2: goto Ce2By; y1k5G: if (is_array($result)) { goto cOG6D; } goto qxxVB; oYMAQ: if (!($response["\143\x6f\x64\145"] == 401)) { goto eyQSO; } goto oRyvC; EgQ_B: return $result; goto vt4xV; BpoMj: goto sSsoo; goto ha_qv; oRyvC: return array("\145\x72\x72\157\162" => 401); goto Uyz2T; ha_qv: cOG6D: goto EgQ_B; pgUF4: return array("\145\162\x72\157\x72" => $response["\143\157\156\x74\145\x6e\x74"]); goto yeW85; Ce2By: $result = json_decode($response["\143\157\156\164\145\x6e\164"], true); goto y1k5G; vt4xV: sSsoo: goto m1VrK; Uyz2T: eyQSO: goto XbHdi; p1OrZ: $response = we7_http_request($url, $post); goto oYMAQ; m1VrK: } goto SOss9; nzX7L: $user_result = we7_update_user($username, $password); goto aRL3w; lFPJG: X4gZ3: goto tCNhs; X1e1H: $ret["\x73\x65\163\163\151\x6f\156"]["\x6e\x61\155\x65"] = "\163\145\x73\x73\151\157\156\x2e\141\x75\x74\x6f\x5f\x73\164\x61\162\164\345\274\200\xe5\x90\257"; goto m1T9Z; ecRvL: we7_setcookie("\141\x63\x63\x65\x73\x73\x74\x6f\x6b\145\x6e", $data); goto IKbGb; qGg7L: $action = in_array($action, $actions) ? $action : ''; goto tFd6o; HGVAT: $siteroot = htmlspecialchars(($is_https ? "\150\x74\164\160\163\72\57\57" : "\x68\x74\x74\x70\x3a\57\57") . (isset($_SERVER["\110\124\x54\120\x5f\110\117\123\x54"]) ? $_SERVER["\x48\x54\124\x50\x5f\x48\117\123\x54"] : '') . $sitepath); goto pb_hc; PUUnq: $i = 1; goto P8_6p; BiZNY: $server = trim($_POST["\163\x65\162\166\145\x72"]); goto wCyy1; aWhRe: if (!($action == "\x65\156\166\x69\x72\x6f\156\155\145\x6e\164")) { goto GtP_h; } goto S0b5m; Mtd1K: foreach (we7_need_extension() as $extension) { goto xhLnu; xhLnu: $if_ok = extension_loaded($extension); goto kVZKc; pe2Dx: $ret[$extension]["\x6e\x61\x6d\145"] = $extension . "\346\x89\251\345\xb1\x95"; goto yfpVH; kVZKc: if ($if_ok) { goto PqPkD; } goto uyis7; sA1kp: VicSp: goto kLLIU; SFq2W: PqPkD: goto sA1kp; uyis7: $ret[$extension]["\146\x61\151\154\x65\144"] = true; goto pe2Dx; yfpVH: $ret[$extension]["\x72\x65\163\165\154\x74"] = "\344\xb8\215\346\x94\257\346\214\201" . $extension; goto SFq2W; kLLIU: } goto R9Xxs; a7dFu: $sitepath = substr($_SERVER["\120\x48\120\137\123\105\114\x46"], 0, strrpos($_SERVER["\120\x48\120\137\x53\x45\114\x46"], "\57")); goto KG3LQ; NOBRJ: we7_setcookie("\143\x64\156\x5f\x73\x6f\165\162\143\145\x5f\163\x69\x7a\x65", $source_size); goto w2RzA; nwbUG: $url = $siteroot . "\57\151\156\163\164\141\x6c\154\x2e\160\x68\160\77\163\164\x65\x70\x3d\x6f\x61\x75\164\150"; goto hUFjE; UrvAP: $ret["\156\145\164\x77\157\162\x6b\x5f\x65\x6e\141\142\x6c\x65\x64"]["\x72\145\x73\x75\154\164"] = "\345\244\x96\347\275\x91\344\270\215\345\x8f\xaf\350\xae\277\xe9\x97\256"; goto I_K0s; Sqfh2: oh_9C: goto RKDVs; hUFjE: $callback = urlencode($url); goto kGto7; jx9Vn: if (file_exists(IA_INSTALL_ROOT . "\x2f\144\x61\164\141\x2f\x64\x62\x2e\x6c\x6f\x63\153")) { goto CVXnc; } goto UG5bi; LivxB: $ret["\x72\157\157\164"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT); goto km5Gy; R3jSa: $actions = array("\x63\150\x65\143\153\x5f\x73\x69\164\145", "\157\x61\165\x74\150", "\145\156\x76\x69\x72\157\156\x6d\x65\156\x74", "\151\x6e\163\x74\x61\x6c\x6c", "\x63\150\165\156\153\164\157\x74\x61\x6c", "\144\x6f\167\156\154\x6f\x61\x64\x5f\x70\x65\162\x63\x65\156\x74", "\144\x6f\x77\156\x6c\157\141\x64", "\x69\x6e\163\164\x61\154\x6c", "\162\x65\147\x69\x73\x74\x65\162\x5f\x63\141\154\x6c\142\141\143\153", "\x6c\x6f\147\x69\156"); goto ZFxL9; k6xbx: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto Mgm12; RzaRL: $cookiepre = local_salt(4) . "\137"; goto vIMTy; Mgm12: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto OLcb8; } goto SWq7H; IENNn: $pieces = explode("\72", $server); goto fquRu; A6_sy: $config = local_config(); goto RzaRL; BNVvV: return $error; goto NZBCy; fquRu: $db = array("\163\145\162\166\145\x72" => $pieces[0] == "\x31\62\67\x2e\60\x2e\60\56\61" ? "\x6c\157\x63\141\154\x68\x6f\x73\164" : $pieces[0], "\160\157\162\x74" => !empty($pieces[1]) ? $pieces[1] : "\63\63\x30\66", "\165\x73\145\x72\x6e\141\155\x65" => $db_username, "\x70\x61\x73\163\167\x6f\x72\x64" => $db_password, "\x70\x72\145\x66\x69\170" => $db_prefix, "\x6e\x61\x6d\145" => $db_name); goto m6Olp; OV6OW: $config = str_replace(array("\x7b\144\x62\x2d\x73\145\162\x76\145\x72\175", "\x7b\x64\x62\55\x75\x73\x65\162\x6e\141\x6d\x65\x7d", "\x7b\144\x62\55\160\141\x73\163\x77\157\x72\x64\x7d", "\173\144\142\x2d\x70\x6f\x72\x74\x7d", "\173\x64\x62\x2d\156\x61\x6d\145\x7d", "\173\144\x62\55\x74\141\142\x6c\145\160\162\x65\x7d", "\x7b\x63\157\x6f\153\x69\x65\160\162\x65\175", "\x7b\141\x75\x74\150\153\x65\171\x7d", "\173\x61\x74\x74\x61\x63\x68\144\x69\x72\x7d"), array($db["\163\145\x72\166\145\162"], $db["\165\x73\145\162\156\x61\155\145"], $db["\160\141\x73\x73\167\157\162\x64"], $db["\160\157\162\x74"], $db["\x6e\x61\155\145"], $db["\160\162\x65\146\151\x78"], $cookiepre, $authkey, "\141\x74\164\141\x63\150\x6d\145\156\164"), $config); goto KwkEK; SWq7H: return false; goto P25Q6; m6Olp: try { goto JW24f; hxNW6: ZlytX: goto cE8pN; q1311: $error .= $errorInfo[2]; goto h2lep; t2Kyy: return "\346\x82\250\347\x9a\x84\346\225\260\xe6\x8d\xae\xe5\xba\223\344\270\x8d\344\xb8\272\xe7\xa9\272\357\xbc\x8c\xe8\257\xb7\351\207\x8d\346\x96\xb0\xe5\273\272\347\xab\x8b\xe6\x95\xb0\346\215\xae\xe5\272\223\xe6\x88\226\xe6\230\xaf\xe6\xb8\205\347\251\272\xe8\257\245\346\x95\xb0\xe6\215\256\345\xba\223\xe6\x88\x96\346\x9b\xb4\346\224\271\xe8\xa1\250\345\x89\215\xe7\xbc\x80\xef\274\201"; goto bzBv6; l3WRU: aBYQf: goto kEs3L; q3_ja: $fetch = $statement->fetch(); goto Ozyg1; h2lep: p0_0m: goto GYZfz; CCUNT: r1lsd: goto PwVjL; mvK3V: $fetch = $statement->fetch(); goto Nr9fP; GYZfz: goto r1lsd; goto PEwyI; ufXlk: $statement = $link->query("\123\x48\x4f\x57\40\104\x41\x54\x41\x42\x41\123\105\x53\40\114\111\113\x45\x20\47{$db["\x6e\x61\155\x65"]}\47\x3b"); goto q3_ja; U3LHp: if ($link->errorCode() != "\60\x30\x30\x30\x30") { goto msqqt; } goto ufXlk; PwVjL: $link->exec("\x55\x53\x45\x20{$db["\x6e\141\x6d\x65"]}"); goto SGwrk; ZQpOp: $link->exec("\123\x45\x54\x20\x73\x71\154\x5f\x6d\157\x64\x65\x3d\47\47"); goto U3LHp; tLrxf: lTyxv: goto VkTM1; l36YH: $error .= "\xe6\225\260\xe6\x8d\256\xe5\xba\x93\xe4\270\215\xe5\xad\x98\xe5\234\xa8\344\270\x94\345\210\x9b\xe5\273\272\346\x95\xb0\xe6\x8d\256\345\xba\x93\xe5\244\xb1\xe8\264\xa5\56"; goto tLrxf; JW24f: $link = new PDO("\155\x79\x73\161\x6c\72\x68\x6f\163\x74\75{$db["\x73\x65\x72\166\145\x72"]}\73\x70\157\x72\164\x3d{$db["\x70\x6f\x72\x74"]}", $db["\165\x73\145\162\x6e\141\155\145"], $db["\x70\x61\x73\x73\x77\157\x72\144"]); goto I1T_K; Jbgph: $error = $errorInfo[2]; goto CCUNT; Nr9fP: if (!empty($fetch)) { goto lTyxv; } goto l36YH; ao53_: $statement = $link->query("\123\110\x4f\x57\x20\x44\101\124\x41\102\x41\123\105\x53\x20\x4c\111\x4b\105\40\x27{$db["\x6e\x61\155\145"]}\47\73"); goto mvK3V; rIL0Y: $link->query("\x43\x52\105\x41\124\105\x20\x44\101\x54\x41\x42\x41\123\x45\40\x49\x46\x20\x4e\x4f\x54\40\105\x58\x49\123\124\x53\x20\140{$db["\156\x61\155\x65"]}\140"); goto P2JXX; F6bOA: if (!$statement->fetch()) { goto vL_3b; } goto t2Kyy; SGwrk: $statement = $link->query("\123\110\117\x57\40\x54\x41\102\x4c\x45\123\40\114\x49\x4b\105\40\47{$db["\x70\162\x65\x66\x69\170"]}\x25\47\x3b"); goto F6bOA; VkTM1: if (!($link->errorCode() != "\60\60\60\x30\60")) { goto p0_0m; } goto Bg_Nb; cE8pN: $link->query("\x43\122\105\x41\124\105\40\104\x41\124\101\x42\101\123\x45\x20\x49\106\40\116\117\x54\x20\x45\x58\x49\123\x54\123\40\140{$db["\x6e\x61\x6d\145"]}\x60\40\104\105\106\101\x55\x4c\x54\x20\x43\110\101\122\101\103\x54\x45\122\40\x53\x45\x54\x20\165\x74\146\x38"); goto l3WRU; Ac7hp: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\56\61") { goto ZlytX; } goto rIL0Y; ypwxJ: $errorInfo = $link->errorInfo(); goto Jbgph; I1T_K: $link->exec("\123\x45\124\40\x63\x68\141\x72\141\143\x74\x65\x72\137\163\145\164\x5f\x63\x6f\x6e\156\x65\x63\164\151\157\156\x3d\x75\x74\146\x38\x2c\40\143\150\141\x72\x61\143\x74\x65\162\137\163\145\164\137\x72\x65\x73\x75\154\164\x73\x3d\165\x74\x66\70\54\x20\143\x68\141\x72\141\143\x74\x65\162\x5f\x73\x65\x74\x5f\143\x6c\x69\x65\156\x74\75\142\151\x6e\x61\162\x79"); goto ZQpOp; PEwyI: msqqt: goto ypwxJ; kEs3L: fp4my: goto ao53_; Ozyg1: if (!empty($fetch)) { goto fp4my; } goto Ac7hp; Bg_Nb: $errorInfo = $link->errorInfo(); goto q1311; P2JXX: goto aBYQf; goto hxNW6; bzBv6: vL_3b: goto dXJ1S; dXJ1S: } catch (PDOException $e) { goto OWV8u; H2s3s: if (strpos($error, "\101\143\x63\x65\163\163\x20\x64\145\x6e\151\x65\x64\x20\146\157\x72\x20\165\x73\145\x72") !== false) { goto GHojn; } goto llaSB; ODWC1: GHojn: goto zjrU5; zlij7: goto UAZuV; goto ODWC1; OWV8u: $error = $e->getMessage(); goto H2s3s; llaSB: $error = iconv("\147\142\x6b", "\165\164\146\x38", $error); goto zlij7; zjrU5: $error = "\346\x82\xa8\347\x9a\204\346\x95\260\xe6\x8d\xae\345\xba\x93\xe8\256\277\351\x97\256\347\x94\250\346\210\xb7\xe5\x90\x8d\346\210\x96\346\x98\257\345\xaf\x86\347\240\x81\xe9\x94\231\xe8\xaf\257\56"; goto H6oU1; H6oU1: UAZuV: goto Kr0bX; Kr0bX: } goto X3XsS; vIMTy: $authkey = local_salt(8); goto OV6OW; QFGb9: return $result !== false ? true : false; goto kt6f8; P25Q6: OLcb8: goto IENNn; LEpeL: $result = file_put_contents(IA_INSTALL_ROOT . "\57\144\x61\x74\141\57\143\x6f\156\146\x69\147\56\x70\x68\x70", $config); goto QFGb9; KwkEK: local_mkdirs(IA_INSTALL_ROOT . "\57\x64\x61\164\x61"); goto LEpeL; NZBCy: iWuAL: goto A6_sy; X3XsS: if (empty($error)) { goto iWuAL; } goto BNVvV; kt6f8: } goto hfJRX; rUXfO: goto DvsIH; goto oQZIJ; KG3LQ: $sitepath = str_replace("\x2f\151\156\x73\x74\x61\x6c\154\x2e\160\150\160", '', $sitepath); goto HGVAT; nVGCN: LNg8B: goto JCvgK; x20DZ: $ret["\144\x61\164\x61"]["\156\141\155\x65"] = "\x64\x61\x74\141\xe7\233\256\345\275\x95\345\206\231\xe5\205\xa5"; goto YJbdy; Pe77L: exit(we7_error(421, $handle_result)); goto NoKwc; S3MgZ: function we7_handle_chunk() { goto M4eTD; iSU30: dzuZ3: goto RPBeV; qngbo: $zip->close(); goto KY3Nr; tCvWu: if (!($res === TRUE)) { goto ZNtpr; } goto f4fnJ; S6EoO: $zip = new ZipArchive(); goto engq0; M40At: $result = false; goto aLkJp; f4fnJ: $zip->extractTo(IA_INSTALL_ROOT); goto qngbo; rqBs3: ZNtpr: goto iSU30; RPBeV: return $result; goto a3HvF; engq0: $res = $zip->open($tmpfile); goto tCvWu; M4eTD: $tmpfile = "\56\57\167\x65\x37\x73\x6f\x75\x72\143\x65\x2e\172\151\160"; goto M40At; KY3Nr: $result = true; goto rqBs3; aLkJp: if (!file_exists($tmpfile)) { goto dzuZ3; } goto S6EoO; a3HvF: } goto k6xbx; blAqX: exit(we7_error(0, array("\x74\157\x74\x61\154" => $data["\x63\x68\x75\156\153\x5f\164\x6f\x74\141\154"]))); goto taeAD; U8u2P: jaaio: goto aWhRe; Zl0bC: d4Xj3: goto wr1FD; YJbdy: $ret["\144\x61\164\141"]["\162\x65\x73\165\154\164"] = "\144\x61\164\141\347\x9b\256\xe5\xbd\225\346\227\240\xe6\263\x95\345\206\231\xe5\x85\245"; goto cX8ZV; KRkPb: KHaah: goto qI6rr; ktqss: goto KnIvN; goto lFPJG; IeY40: $auth = @json_decode(base64_decode($post), true); goto FtiOl; CFOjK: xZzCo: goto B1HHw; rIDO0: exit(we7_error(400, "\344\xbf\xae\346\224\271\347\224\xa8\xe6\x88\xb7\xe5\x90\215\xe5\257\206\347\xa0\x81\xe5\xa4\xb1\350\xb4\245\56")); goto KRkPb; scXFs: if (!($i <= $chunk_total)) { goto X4gZ3; } goto qbG0U; FBJMJ: $ret["\141\x73\x70\x5f\x74\x61\147\163"]["\157\x6b"] = ini_get("\x61\x73\x70\137\164\x61\x67\x73"); goto BN8Q2; UKbIm: $filesize = filesize($filename); goto eiUdf; HT2si: we7_setcookie("\x70\x61\x63\153\x61\147\145\x5f\155\x64\65", $data["\155\144\65"]); goto VVzcg; iepGk: goto EXveQ; goto lJLot; ryX48: $password = trim($_POST["\x70\141\163\163\167\x6f\162\144"]); goto UVFmO; zk1Rq: $db_prefix = trim($_POST["\x70\x72\x65\x66\151\170"]); goto fpQXW; jm3JB: ob_start(); goto a1nlc; LJZMS: $chunk_num = max(1, intval($_POST["\x63\150\x75\156\153"])); goto WKtER; Tt731: goto hZMyi; goto E0M6z; bUif9: $ret["\x66\x6f\160\145\x6e"]["\157\x6b"] = @ini_get("\141\x6c\154\x6f\167\137\165\162\x6c\137\x66\x6f\160\145\156") && function_exists("\146\x73\x6f\143\x6b\157\160\145\156"); goto kLt_v; FTnqm: $ret["\x73\145\x73\x73\x69\x6f\x6e"]["\157\x6b"] = ini_get("\x73\145\x73\x73\x69\157\x6e\x2e\141\165\164\x6f\137\x73\164\x61\162\164"); goto UoDwK; P8_6p: KnIvN: goto scXFs; B1HHw: $finished = true; goto PUUnq; a6ymn: $action = "\x6f\141\165\x74\150"; goto ehsZ4; drgzL: fwrite($fh, $output); goto hCX00; alDmA: $ret["\x6e\x65\164\x77\157\x72\x6b\137\145\x6e\x61\142\154\145\x64"]["\x66\x61\151\154\x65\144"] = true; goto JJYWV; jicc2: $result = intval($download_size / $source_size * 100); goto TysW0; Mm5kB: exit; goto AEvnD; dvHd1: exit; goto TNC3e; ebbqH: $post = file_get_contents("\x70\150\x70\72\x2f\x2f\x69\x6e\x70\165\164"); goto IeY40; pMPkD: XWQKv: goto ZCqU9; ZWWOW: $result = file_put_contents("\x2e\x2f\143\150\x75\x6e\153\137" . $chunk_num, $data); goto GSQ94; qbG0U: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\x2f\143\x68\165\x6e\153\137" . $i); goto yUNnZ; rrZgO: exit(we7_error(0, "\x73\165\143\x63\x65\x73\163")); goto vWLkh; RKDVs: $forward = $data["\x75\162\154"]; goto smthm; CeMFd: define("\x49\116\137\x53\x59\123", true); goto coGHu; TysW0: exit(we7_error(0, $result)); goto a1Th3; aPzcH: gkcJ7: goto pk9ez; CYTit: if (!(is_array($data) && isset($data["\x65\x72\x72\157\x72"]))) { goto oh_9C; } goto L3tOj; R9Xxs: hHOYy: goto eP4K6; ZYM5S: if (!empty($data) && $data["\x73\x74\141\164\165\163"] == 1) { goto UKMKe; } goto a6ymn; YDcTO: $ret["\144\157\155"]["\x6e\x61\x6d\145"] = "\x44\x4f\115\x44\x6f\143\165\x6d\x65\x6e\164"; goto iugeL; IvbWt: R1_Jj: goto nwbUG; OWMJu: UxOvf: goto FBJMJ; fV20g: jUwCU: goto XwpYY; ls1nv: ini_set("\144\151\x73\160\x6c\141\171\137\145\162\162\157\162\x73", 0); goto FLrmd; VHotP: $ret["\x61\x6c\x77\x61\171\x73\137\160\157\x70\165\x6c\x61\164\x65\137\x72\x61\167\x5f\160\x6f\x73\164\x5f\x64\x61\164\x61"]["\x72\x65\x73\165\x6c\164"] = @ini_get("\x61\x6c\x77\141\x79\163\x5f\160\x6f\x70\x75\154\x61\164\x65\137\x72\141\x77\137\160\157\163\164\137\144\141\164\x61"); goto apnGB; Vl8Dr: $ret["\144\x6f\x6d"]["\x6f\153"] = class_exists("\x44\x4f\x4d\x44\x6f\x63\x75\155\145\156\164"); goto os0OR; m1T9Z: $ret["\163\x65\x73\163\151\x6f\x6e"]["\162\145\x73\x75\x6c\164"] = "\xe7\xb3\273\xe7\xbb\x9f\x73\145\x73\x73\151\157\x6e\56\141\165\x74\157\x5f\163\164\x61\162\x74\xe5\274\x80\345\220\xaf"; goto OWMJu; E0M6z: QJ30X: goto JVxxS; AylQA: if (!($action == "\x72\145\147\151\x73\164\x65\162\x5f\143\x61\x6c\x6c\142\x61\143\153")) { goto lr5Qb; } goto ebbqH; wPTjK: if (!($server["\165\x70\154\x6f\x61\144"] == "\x75\156\153\156\x6f\x77" || !strstr($server["\165\x70\x6c\157\141\144"], "\155"))) { goto R6C1H; } goto gEMlo; Rxrw4: we7_setcookie("\162\145\x67\x69\163\164\145\x72\145\144\x5f\163\151\164\x65", 1); goto oLuD3; wCyy1: $db_username = trim($_POST["\x75\x73\145\162\156\x61\x6d\x65"]); goto xUNGQ; ztu_1: $ret["\141\154\x77\141\171\163\137\160\x6f\160\x75\154\x61\x74\x65\x5f\x72\x61\x77\x5f\x70\x6f\x73\x74\137\144\141\x74\x61"]["\x66\x61\151\x6c\145\144"] = @ini_get("\x61\x6c\167\x61\171\x73\137\160\157\x70\165\154\x61\x74\x65\x5f\x72\x61\x77\137\160\157\163\164\x5f\x64\x61\x74\141") != "\x2d\x31"; goto g3tGp; yI3I5: UDyFZ: goto yTkzf; V2rIl: if (!empty($data)) { goto uX4sB; } goto u4Fwu; JjFpo: if ($sitename_result) { goto nYHVP; } goto dGr2c; bC9Nc: $source_size = we7_getcookie("\143\144\x6e\137\163\157\165\x72\x63\x65\x5f\163\x69\172\145"); goto H6guy; xRLEC: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\164\141\57\x63\157\156\x66\151\147\56\160\150\x70") || !empty($_POST))) { goto ofv0E; } goto BiZNY; Lm9e0: fclose($hostfile); goto DVgMW; psCKt: function we7_update_sitename($sitename) { goto zpk1U; iBCYo: $site_info = setting_load("\163\x69\x74\145"); goto LMtuX; yllUB: $data = we7_request_api(API_UPDATE_SITENAME, array("\141\143\x63\145\x73\163\137\x74\x6f\153\145\x6e" => $accesstoken, "\x73\x69\x74\x65\x5f\x6e\141\155\x65" => $sitename, "\163\151\x74\x65\137\153\x65\171" => $site_info["\163\151\164\145"]["\x6b\145\171"])); goto yALcW; yg3TQ: luj9O: goto NK_4O; zpk1U: global $accesstoken, $_W; goto iBCYo; dcoiv: goto luj9O; goto j23s8; yALcW: if (is_array($data) && isset($data["\x65\x72\162\157\x72"])) { goto n7B7a; } goto VUw0B; j23s8: n7B7a: goto T11hj; uN0Mp: return "\347\253\x99\xe7\202\271\344\xbf\241\xe6\x81\257\344\270\215\xe5\255\x98\345\x9c\250\357\274\x8c\350\257\xb7\351\207\x8d\346\226\xb0\xe6\xb3\250\xe5\x86\x8c\xe7\253\231\347\202\271\x2e"; goto VB22X; VUw0B: return true; goto dcoiv; LMtuX: if (!(empty($site_info["\x73\x69\x74\x65"]) || empty($site_info["\x73\x69\x74\145"]["\153\145\x79"]))) { goto lAYWw; } goto uN0Mp; VB22X: lAYWw: goto yllUB; T11hj: return $data["\x65\162\162\x6f\x72"]; goto yg3TQ; NK_4O: } goto JT1WJ; apnGB: $ret["\x61\x6c\x77\x61\171\x73\137\160\157\x70\x75\x6c\x61\x74\145\137\162\x61\167\137\x70\x6f\x73\x74\x5f\144\x61\164\141"]["\x68\x61\x6e\x64\x6c\x65"] = "\x68\164\164\160\x73\72\57\x2f\142\x62\x73\56\x77\x37\x2e\143\143\57\x74\x68\x72\x65\141\x64\x2d\x33\63\x31\x34\x38\55\x31\55\61\x2e\x68\164\155\154"; goto olE_e; JVxxS: exit(we7_error(433, "\x61\x63\x63\x65\x73\x73\164\x6f\x6b\145\156\40\145\170\x70\151\x72\145\x64\x2e")); goto KACki; VVzcg: we7_setcookie("\x63\150\165\x6e\x6b\x5f\164\x6f\x74\x61\x6c", $data["\143\x68\165\x6e\x6b\x5f\x74\x6f\x74\141\154"]); goto blAqX; JQMLt: if (empty($result)) { goto HVLix; } goto vkDuV; IlnIP: $ret["\x73\145\x73\163\x69\157\156"]["\146\x61\x69\154\x65\x64"] = true; goto X1e1H; CblRJ: X5BWQ: goto veFhy; r55JO: ZzL3F: goto YR8uj; JPO9O: $download_size = filesize("\56\x2f\167\x65\67\163\157\165\162\x63\145\x2e\172\x69\160"); goto jicc2; LFkEq: define("\101\120\111\x5f\107\105\124\137\x50\101\103\x4b\101\107\x45\137\115\104\65\x5f\101\x4e\104\137\103\x48\x55\116\113\x54\x4f\124\101\114", API_HOST . "\x2f\x75\x74\x69\154\57\x70\141\143\153\x61\x67\145\57\x69\x6e\x73\164\x61\x6c\x6c"); goto cv5Ke; lX1bc: function we7_upgrade() { goto p9IDL; lHNt4: if (!(!empty($packet["\163\x63\x72\x69\x70\164\163"]) && is_array($packet["\x73\143\162\x69\160\164\x73"]))) { goto SCUd9; } goto T3jx_; DNmoS: if8gd: goto awtQT; HlboE: foreach ($packet["\x73\x63\x72\x69\160\164\x73"] as $script) { goto TrHzH; GNJVu: if (!empty($script["\163\x63\162\x69\x70\164"])) { goto SfxVC; } goto UZtrA; JlKLZ: uu7sI: goto CS43o; UMnvL: $script["\x73\143\162\x69\x70\164"] = @base64_decode($script["\163\x63\162\151\160\x74"]); goto GNJVu; d0hPz: SfxVC: goto J_mG6; J_mG6: $updatefile = $updatedir . $fname; goto fTk3y; UlLS5: $fname = "\x75\160\x64\141\x74\x65\50{$crelease}\55{$script["\162\145\154\x65\x61\x73\x65"]}\x29\x2e\x70\x68\160"; goto amjXG; amjXG: $crelease = $script["\x72\145\x6c\x65\141\163\145"]; goto UMnvL; fTk3y: file_put_contents($updatefile, $script["\x73\143\162\151\x70\164"]); goto FopLL; TrHzH: if (!($script["\x72\145\154\145\141\x73\x65"] <= $crelease)) { goto kf8PN; } goto jXsAJ; WYhf7: kf8PN: goto UlLS5; FopLL: $updatefiles[] = $updatefile; goto JlKLZ; jXsAJ: goto uu7sI; goto WYhf7; UZtrA: $script["\163\x63\162\151\x70\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\146\141\x6d\x69\x6c\171"]}', '{$script["\166\145\x72\163\x69\x6f\156"]}', '{$script["\162\145\154\x65\x61\x73\145"]}');
return true;
DAT;
goto d0hPz; CS43o: } goto j3jxW; VW3Yh: MdZYu: goto qrqIu; bG73N: load()->func("\146\151\x6c\145"); goto UIm43; NLCBE: load()->model("\x63\154\157\x75\x64"); goto C_jZw; T3jx_: $updatefiles = array(); goto GgGhD; UIm43: $packet = cloud_build(); goto TAiRg; X9n9q: if (empty($updatefiles)) { goto g8uLA; } goto WjuAn; vuyfL: q2qA5: goto kS8Tx; Pxta3: rmdirs($updatedir, true); goto rKvBg; kS8Tx: if (!(!empty($packet["\x66\151\x6c\145\x73"]) && is_array($packet["\x66\151\x6c\145\x73"]))) { goto if8gd; } goto uwNwA; C_jZw: load()->func("\144\142"); goto bG73N; nrMfx: return true; goto vuyfL; F0l98: require IA_INSTALL_ROOT . "\x2f\167\145\142\x2f\x63\x6f\155\x6d\x6f\156\x2f\142\x6f\x6f\164\163\164\162\141\x70\56\x73\171\x73\x2e\151\x6e\x63\56\160\150\160"; goto NLCBE; EXzHo: g8uLA: goto LuYY2; LuYY2: SCUd9: goto QXDz1; p9IDL: global $_W; goto HKEa_; JXWVo: mJtnE: goto DNmoS; awtQT: if (!(!empty($packet["\x73\143\150\145\155\141\163"]) && is_array($packet["\163\143\x68\145\155\141\163"]))) { goto upm3N; } goto JUpas; g6d81: $cversion = IMS_VERSION; goto t6lAG; UAvrn: jivCt: goto EXzHo; qrqIu: upm3N: goto lHNt4; JUpas: foreach ($packet["\x73\143\x68\x65\155\x61\163"] as $schema) { goto YwgeX; C_KT9: $sqls = db_table_fix_sql($local, $schema); goto ZsXOT; EYijG: CAVnr: goto NQ6pY; eybiF: lvRli: goto EYijG; c9z4W: $local = db_table_schema(pdo(), $tablename); goto C_KT9; ZsXOT: foreach ($sqls as $sql) { pdo_query($sql); pmxiu: } goto eybiF; YwgeX: $tablename = substr($schema["\x74\x61\x62\154\145\156\x61\x6d\x65"], 4); goto c9z4W; NQ6pY: } goto VW3Yh; j3jxW: TuZ7G: goto X9n9q; QXDz1: return true; goto i_oVt; GgGhD: $updatedir = IA_INSTALL_ROOT . "\57\144\x61\x74\x61\57\x75\160\144\x61\164\x65\x2f"; goto Pxta3; WjuAn: foreach ($updatefiles as $file) { goto mG6fj; Np5Dm: goto J33BG; goto cQOEM; Vsv_a: cache_build_setting(); goto ytQ37; Of8wv: $evalret = (include $entry); goto LrsUA; mG6fj: if (!(!is_file($file) || !preg_match("\57\x5e\x75\160\x64\141\x74\145\134\x28\x5c\144\173\61\x32\x7d\134\x2d\x5c\144\173\x31\x32\x7d\x5c\x29\x5c\56\x70\150\x70\x24\57", $file))) { goto oQPyn; } goto Np5Dm; sgK12: cache_build_users_struct(); goto Vsv_a; cQOEM: oQPyn: goto Of8wv; LrsUA: if (empty($evalret)) { goto OPMif; } goto sgK12; PEhf5: OPMif: goto gYrhy; gYrhy: J33BG: goto POFB0; ytQ37: @unlink($entry); goto PEhf5; POFB0: } goto UAvrn; TAiRg: if (!empty($packet)) { goto q2qA5; } goto nrMfx; t6lAG: $crelease = IMS_RELEASE_DATE; goto HlboE; uwNwA: foreach ($packet["\146\x69\x6c\145\163"] as $file) { cloud_download($file, "\x66\x69\x6c\x65\163"); Nw1Ba: } goto JXWVo; rKvBg: mkdirs($updatedir); goto g6d81; cF34g: require IA_INSTALL_ROOT . "\57\146\x72\141\155\x65\x77\x6f\162\153\x2f\142\x6f\x6f\164\163\x74\162\x61\x70\56\151\156\x63\x2e\160\150\160"; goto F0l98; HKEa_: define("\111\x4e\137\123\131\123", true); goto cF34g; i_oVt: } goto psCKt; xHlsp: touch(IA_INSTALL_ROOT . "\57\x64\141\x74\x61\57\144\142\56\154\x6f\x63\153"); goto LoCKk; kx0K1: if (file_exists(IA_INSTALL_ROOT . "\x2f\151\156\144\145\170\56\x70\150\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\x65\142") && file_exists($verfile) && file_exists($dbfile)) { goto UvVKb; } goto CEcEU; kGto7: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x72\x65\144\x69\162\x65\x63\x74" => $callback)); goto CYTit; ZVEOc: $header_array = get_headers($cdn_source_file, 1); goto hg00X; taeAD: goto WEIqf; goto wlWPY; jEhTU: $dbfile = IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\57\144\x62\x2e\x70\150\160"; goto kx0K1; UG5bi: $database_result = we7_db(); goto P2N9A; LV3_1: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\165\162\154" => $siteroot)); goto ZYM5S; xzVmE: $ret["\144\141\164\x61"]["\146\141\151\x6c\145\x64"] = true; goto x20DZ; r5gW4: function we7_http_response_parse($data) { goto E1vK3; nXoYj: $rlt["\x63\x6f\144\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto Zki2I; QW7Hb: return $rlt; goto Y01NK; w5bhV: if (!($isgzip && function_exists("\x67\x7a\144\x65\143\157\x64\145"))) { goto GjLHG; } goto udxZ2; RIoJI: preg_match("\57\136\50\134\123\x2b\51\40\x28\134\x53\x2b\x29\x20\50\56\x2a\51\44\x2f", $split2[0], $matches); goto nXoYj; xqA6z: $rlt["\x6d\145\x74\x61"] = $data; goto cnIuH; pBxWe: GjLHG: goto xqA6z; wRZuG: $split2 = explode("\xd\12", $split1[0], 2); goto RIoJI; KUeTj: foreach ($header as $v) { goto wVGUB; dQd4N: $key = substr($v, 0, $pos); goto m0Uk0; lieJS: $rlt["\150\x65\x61\144\x65\x72\x73"][$key][] = $value; goto POVVD; aeVbM: b0RFY: goto DvqUg; ARDEd: N0c4r: goto PXZCr; DvqUg: $rlt["\150\145\x61\x64\x65\x72\163"][$key][] = $value; goto wC5w3; xnNik: $rlt["\150\x65\x61\144\145\162\163"][$key] = $value; goto eSpUh; wsUwd: unset($rlt["\x68\x65\141\144\145\162\x73"][$key]); goto TzVfh; eSpUh: goto wyGaa; goto aeVbM; B15gG: VRpl6: goto vdMCj; wVGUB: $pos = strpos($v, "\72"); goto dQd4N; vdMCj: $temp = $rlt["\x68\145\x61\x64\x65\x72\x73"][$key]; goto wsUwd; POVVD: wyGaa: goto inOQa; inOQa: if (!(!$isgzip && strtolower($key) == "\143\157\156\164\x65\156\164\55\x65\x6e\143\157\x64\x69\156\147" && strtolower($value) == "\x67\x7a\151\160")) { goto b4TNK; } goto l0U0f; oyT01: b4TNK: goto ARDEd; l0U0f: $isgzip = true; goto oyT01; TzVfh: $rlt["\x68\x65\141\144\x65\x72\163"][$key][] = $temp; goto lieJS; wC5w3: goto wyGaa; goto B15gG; m0Uk0: $value = trim(substr($v, $pos + 1)); goto VUQNV; VUQNV: if (is_array($rlt["\150\x65\141\x64\145\162\x73"][$key])) { goto b0RFY; } goto mkZHP; mkZHP: if (!empty($rlt["\x68\145\x61\x64\x65\x72\x73"][$key])) { goto VRpl6; } goto xnNik; PXZCr: } goto GPk1s; h270w: $split1[1] = substr($data, $pos + 4, strlen($data)); goto wRZuG; wAqIU: $split1[0] = substr($data, 0, $pos); goto h270w; udxZ2: $rlt["\143\157\x6e\x74\x65\156\x74"] = gzdecode($rlt["\143\x6f\x6e\164\145\x6e\x74"]); goto pBxWe; KcB6p: $pos = strpos($data, "\15\xa\15\xa"); goto wAqIU; S261t: $rlt["\162\145\x73\x70\157\156\163\145\154\x69\156\145"] = !empty($split2[0]) ? $split2[0] : ''; goto lROP4; GPk1s: AX0Dl: goto UDCC_; Zki2I: $rlt["\x73\164\x61\x74\x75\x73"] = !empty($matches[3]) ? $matches[3] : "\x4f\113"; goto S261t; lROP4: $header = explode("\xd\xa", $split2[1]); goto CCr3G; UDCC_: $rlt["\143\x6f\x6e\164\145\x6e\164"] = $split1[1]; goto w5bhV; CCr3G: $isgzip = false; goto KUeTj; Gcje0: return we7_http_response_parse($rlt["\143\x6f\156\164\x65\156\164"]); goto rJzGO; cnIuH: if (!($rlt["\x63\x6f\x64\145"] == "\x31\60\x30")) { goto ERpH8; } goto Gcje0; rJzGO: ERpH8: goto QW7Hb; E1vK3: $rlt = array(); goto KcB6p; Y01NK: } goto wfnSU; kH5TM: header("\154\157\143\x61\x74\x69\x6f\156\x3a\x20\56\x2f\x69\156\x64\145\170\56\160\150\x70"); goto VG1Ma; xSx2C: $ret["\x61\x73\160\137\164\x61\147\x73"]["\146\141\151\154\x65\x64"] = true; goto ychyP; HlrTM: exit(we7_error(433, "\141\x63\143\x65\x73\x73\164\157\x6b\145\x6e\40\145\170\x70\x69\x72\145\x64\56")); goto VlGne; UJy2c: $verfile = IA_INSTALL_ROOT . "\57\146\x72\x61\x6d\x65\167\x6f\x72\153\57\x76\x65\162\163\151\x6f\x6e\56\x69\x6e\x63\56\160\x68\160"; goto jEhTU; zaGYP: set_time_limit(0); goto jm3JB; xUNGQ: $db_password = trim($_POST["\x70\141\163\163\167\157\162\x64"]); goto QdV0z; EgrF7: if (!($action == "\157\141\x75\x74\x68")) { goto jaaio; } goto ORxSF; fpQXW: $db_prefix = !empty($db_prefix) ? $db_prefix : "\x69\155\163\137"; goto KXR1r; K1hux: $is_https = $_SERVER["\123\105\122\x56\x45\x52\x5f\120\117\x52\x54"] == 443 || isset($_SERVER["\x48\124\x54\120\x53"]) && strtolower($_SERVER["\110\x54\124\x50\x53"]) != "\157\146\x66" || strtolower($_SERVER["\110\x54\x54\120\x5f\130\x5f\106\x4f\x52\127\101\122\x44\105\104\137\120\x52\x4f\x54\117"]) == "\x68\164\164\160\x73" || strtolower($_SERVER["\x48\124\124\x50\137\130\137\x43\114\111\105\116\x54\x5f\x53\x43\x48\x45\115\x45"]) == "\150\x74\x74\160\x73" ? true : false; goto a7dFu; rBjLA: exit(we7_error(0, "\x73\x75\x63\x63\x65\163\x73")); goto VGFJ3; SPZG1: kdE23: goto Zl0bC; coGHu: require IA_INSTALL_ROOT . "\x2f\146\x72\x61\x6d\x65\167\x6f\x72\x6b\x2f\142\x6f\x6f\164\x73\x74\162\141\160\56\x69\156\x63\56\160\x68\160"; goto FUzmW; qHx2y: header("\114\157\x63\141\x74\151\x6f\156\72\40" . $siteroot . "\x2f\151\x6e\x73\x74\x61\x6c\154\56\x70\x68\x70"); goto dvHd1; WKtER: $chunk_total = we7_getcookie("\x63\x68\165\x6e\153\137\x74\157\164\x61\x6c"); goto uGJBd; ychyP: $ret["\x61\163\x70\137\164\141\147\x73"]["\x6e\x61\155\x65"] = "\x61\163\x70\137\x74\x61\147\163"; goto Zl0nL; RNNOI: exit(we7_error(0, "\x73\165\x63\143\145\163\163")); goto juLHh; JRYKz: exit(we7_error(0, array("\x74\157\164\141\x6c" => 1))); goto bOjNn; NKrDP: lr5Qb: goto I2vAi; OS1L2: clearstatcache(); goto bC9Nc; DaIAZ: if (feof($hostfile)) { goto a55LW; } goto X6MB2; d69e5: exit(we7_error(400, $chunk_num)); goto GaNKZ; AEvnD: goto D7XvI; goto IvbWt; g3tGp: $ret["\x61\154\x77\141\x79\x73\x5f\160\157\x70\165\x6c\x61\x74\145\137\162\141\167\x5f\x70\157\163\x74\137\144\x61\164\x61"]["\x6e\141\x6d\145"] = "\141\154\167\x61\x79\x73\137\x70\157\160\x75\154\x61\164\x65\x5f\x72\141\167\137\x70\x6f\x73\x74\x5f\144\141\x74\141\xe9\205\215\347\275\256"; goto VHotP; tz6pw: pof78: goto JqP9I; a8K73: if (!($chunk_num == 1)) { goto bpa7o; } goto LgbNo; pk9ez: if (!($action == "\x64\157\167\156\154\x6f\x61\144\137\x70\x65\162\x63\145\156\164")) { goto GAdsh; } goto OS1L2; GSQ94: if ($result) { goto xZzCo; } goto d69e5; hfJRX: function we7_db() { goto TrTT7; lau2b: $all_engines = $engines->fetchAll(); goto UOF9k; xU5mi: $link = new PDO("\155\171\x73\x71\154\x3a\144\142\x6e\x61\x6d\x65\x3d{$db["\156\141\x6d\x65"]}\x3b\150\157\x73\x74\75{$db["\x73\x65\x72\166\145\x72"]}\73\x70\157\x72\x74\75{$db["\x70\x6f\x72\164"]}", $db["\x75\x73\145\162\156\x61\x6d\x65"], $db["\x70\141\x73\x73\167\x6f\162\144"]); goto KhfCA; jKRLP: $cookiepre = $config["\x63\157\x6f\x6b\151\x65"]["\160\162\145"]; goto IfkHf; tllwE: $cookie["\165\x69\x64"] = $link->lastInsertId(); goto ftUlh; TrTT7: global $is_https; goto yDL1O; vSGik: $db = array("\163\x65\x72\x76\x65\x72" => $config["\144\x62"]["\155\x61\163\x74\145\162"]["\150\157\163\164"], "\x70\x6f\162\164" => $config["\x64\x62"]["\x6d\141\x73\x74\145\162"]["\160\157\x72\164"], "\165\163\145\x72\x6e\141\x6d\x65" => $config["\144\142"]["\x6d\141\x73\164\145\x72"]["\x75\163\x65\162\x6e\x61\x6d\145"], "\x70\x61\163\x73\167\x6f\x72\x64" => $config["\144\x62"]["\155\x61\163\164\145\x72"]["\x70\x61\163\163\167\157\x72\144"], "\x70\162\x65\146\x69\170" => $config["\x64\x62"]["\x6d\x61\163\164\145\x72"]["\164\141\x62\154\145\x70\162\x65"], "\x6e\141\x6d\x65" => $config["\144\142"]["\155\x61\163\x74\x65\x72"]["\144\x61\164\141\142\x61\163\145"]); goto jKRLP; jsvtP: if (file_exists(IA_INSTALL_ROOT . "\x2f\x69\x6e\x64\145\170\x2e\160\x68\160") && is_dir(IA_INSTALL_ROOT . "\x2f\x77\x65\x62") && file_exists(IA_INSTALL_ROOT . "\x2f\146\x72\141\155\145\x77\157\162\x6b\x2f\166\x65\162\x73\151\157\x6e\56\x69\x6e\143\x2e\160\x68\160") && file_exists($dbfile)) { goto o44Rk; } goto vHvRp; ttJkK: pcipe: goto s_YFV; fmi27: $link->exec("\111\x4e\123\x45\122\124\40\x49\x4e\x54\x4f\x20{$db["\160\x72\145\146\x69\x78"]}\x75\x73\145\162\x73\x20\x28\165\x73\x65\x72\x6e\141\x6d\145\x2c\40\x70\x61\x73\163\167\x6f\x72\x64\54\40\x73\x61\154\164\54\40\152\157\151\x6e\144\x61\164\x65\x2c\x20\147\x72\x6f\x75\160\151\144\x2c\40\163\164\141\x74\x75\163\54\x20\146\x6f\x75\156\x64\x65\162\137\147\x72\157\x75\x70\x69\144\x2c\x20\x69\x73\x5f\x62\x69\x6e\144\51\x20\x56\101\114\125\105\123\50\x27{$user["\165\x73\x65\x72\156\x61\155\x65"]}\47\x2c\x20\x27{$password}\x27\x2c\x20\47{$salt}\x27\x2c\40\x27" . time() . "\47\x2c\x20\x31\x2c\x20\62\54\x20\x31\54\x20\60\51"); goto eEyfr; KhfCA: $link->exec("\123\105\124\40\x63\150\141\x72\141\143\164\145\162\137\x73\x65\164\x5f\x63\157\x6e\156\145\143\x74\151\157\x6e\75\x75\x74\146\x38\x2c\40\143\150\x61\x72\141\x63\x74\x65\x72\137\x73\145\x74\137\x72\145\163\165\154\164\x73\x3d\x75\x74\x66\x38\x2c\x20\x63\150\141\x72\x61\143\164\145\x72\x5f\x73\145\164\x5f\x63\x6c\x69\x65\x6e\x74\x3d\142\151\x6e\141\162\171"); goto r1oeK; VKy21: $engines = $link->query("\123\110\117\127\40\105\116\x47\x49\x4e\105\123\73"); goto lau2b; OfVqC: $salt = local_salt(8); goto dmEaQ; eEyfr: $cookie = array("\154\x61\x73\164\x76\151\163\x69\164" => '', "\154\141\163\x74\x69\x70" => ''); goto tllwE; X23xX: Q0V9v: goto dy063; gSnS6: C6oN5: goto xrSqi; IfkHf: $authkey = $config["\163\145\x74\x74\151\x6e\147"]["\x61\165\164\x68\153\x65\171"]; goto xU5mi; xCWB_: o44Rk: goto Mrvvk; LUGJN: setcookie("{$cookiepre}\x5f\137\x73\x65\x73\x73\x69\x6f\156", $session, 0, "\57", '', $secure, true); goto h13SO; dmEaQ: $password = sha1("{$user["\160\x61\x73\163\167\x6f\162\x64"]}\x2d{$salt}\x2d{$authkey}"); goto fmi27; ftUlh: $cookie["\150\x61\x73\x68"] = md5($password . $salt); goto elkio; DgGr2: return "\345\xae\211\350\243\x85\345\214\205\344\xb8\215\xe6\xad\243\xe7\xa1\256\54\40\xe6\225\260\346\215\xae\345\xae\x89\350\243\x85\xe8\204\232\346\234\xac\xe7\274\272\xe5\244\261\x2e"; goto gSnS6; UOF9k: foreach ($all_engines as $engine) { goto ohMs3; elPn9: eh6OH: goto xOVMK; ohMs3: if (!(strtolower($engine["\x45\x6e\147\151\156\x65"]) == "\x69\x6e\x6e\x6f\x64\x62" && in_array(strtolower($engine["\x53\x75\x70\160\x6f\162\164"]), array("\144\145\146\x61\165\x6c\x74", "\171\x65\x73")))) { goto nKjnL; } goto FSkna; k3lBY: nKjnL: goto elPn9; FSkna: $support_innodb = true; goto k3lBY; xOVMK: } goto r2ksZ; CkRou: foreach ($dat["\x73\x63\x68\145\155\141\x73"] as $schema) { goto Q9MjP; te2Kf: ou5oN: goto HwLar; Q9MjP: $sql = local_create_sql($schema, $support_innodb); goto vUvKe; vUvKe: local_run($sql, $link, $db); goto te2Kf; HwLar: } goto X23xX; Mrvvk: $dat = (require $dbfile); goto YMdjU; uxyFy: require IA_INSTALL_ROOT . "\57\x64\x61\x74\141\x2f\x63\157\156\x66\x69\147\x2e\x70\x68\x70"; goto vSGik; r2ksZ: Jxo5Q: goto CkRou; xrSqi: $support_innodb = false; goto VKy21; YMdjU: if (!(empty($dat) || !is_array($dat))) { goto C6oN5; } goto DgGr2; h13SO: return true; goto byJvD; dy063: foreach ($dat["\x64\141\164\x61\163"] as $data) { local_run($data, $link, $db); hwqhp: } goto NancS; NancS: hmTvm: goto ttJkK; s_YFV: $user = array("\165\163\x65\x72\156\141\155\145" => "\141\x64\x6d\151\156", "\x70\x61\x73\x73\167\x6f\x72\x64" => "\x31\x32\63\x34\x35\66"); goto OfVqC; r1oeK: $link->exec("\123\105\124\40\x73\x71\x6c\x5f\x6d\157\144\145\75\x27\x27"); goto tyEKu; fpgRM: goto pcipe; goto xCWB_; yDL1O: define("\x49\x4e\x5f\x49\101", true); goto uxyFy; GmOJU: $secure = $is_https ? 1 : 0; goto LUGJN; elkio: $session = install_authcode(json_encode($cookie), "\x65\x6e\x63\157\x64\145", $authkey); goto GmOJU; tyEKu: $dbfile = IA_INSTALL_ROOT . "\x2f\144\x61\164\141\x2f\144\x62\56\160\x68\x70"; goto jsvtP; vHvRp: return "\xe5\xae\211\350\243\x85\xe5\x8c\205\xe4\xb8\215\346\255\xa3\xe7\241\xae\x2e"; goto fpgRM; byJvD: } goto IS96K; Jx905: $username = trim($_POST["\165\163\x65\162\156\141\x6d\x65"]); goto ryX48; CAaJ7: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\141\x63\x63\145\x73\x73\x5f\x74\157\x6b\x65\x6e" => $accesstoken)); goto MVnKB; iugeL: $ret["\x64\157\x6d"]["\x72\145\163\x75\x6c\x74"] = "\xe6\xb2\xa1\346\234\211\345\x90\257\347\x94\xa8\104\117\x4d\104\x6f\143\165\x6d\x65\x6e\164"; goto WDCUA; jDPnZ: if (feof($hostfile)) { goto VWFer; } goto C2gWB; bOjNn: MfFCm: goto CAaJ7; SzaC9: bpa7o: goto tPikr; X1wDk: function we7_setcookie($key, $value) { goto IqlXx; IqlXx: $secure = $_SERVER["\123\105\122\x56\x45\x52\x5f\120\x4f\x52\x54"] == 443 ? 1 : 0; goto akRxm; akRxm: if (!is_array($value)) { goto mGTEB; } goto GNDZU; xN24i: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto W1Skf; uJVBi: mGTEB: goto xN24i; GNDZU: $value = json_encode($value); goto uJVBi; W1Skf: } goto FK9aY; uKw2w: exit(we7_error(400, $chunk_num)); goto Tt731; lKKht: exit(we7_error(430, $register_site_result)); goto VG6L5; Q_llA: if (!($chunk_num > $chunk_total)) { goto uhLJs; } goto MNENR; veFhy: ofv0E: goto UJy2c; ehsZ4: goto u81h6; goto wqYTr; EWu0w: a55LW: goto CuVRM; cv5Ke: define("\101\120\111\137\x47\x45\x54\137\103\x48\x55\x4e\113\x5f\x50\x41\103\113\x41\x47\x45", API_HOST . "\x2f\165\x74\151\154\57\x70\141\x63\153\141\147\145\x2f\151\156\x73\164\141\154\x6c"); goto Ex4Ok; If0KO: $ret["\166\x65\162\x73\151\x6f\x6e"]["\x6e\141\x6d\x65"] = "\120\x48\x50\347\211\x88\346\x9c\xac"; goto Ioav7; Uv278: $ret["\146\157\x70\x65\156"]["\x6e\141\x6d\145"] = "\146\x6f\x70\x65\x6e"; goto e02a4; vfQz9: BoJmx: goto JQMLt; QiHgA: if ($data["\x65\162\162\x6f\x72"] == 401) { goto QJ30X; } goto uKw2w; TNC3e: u81h6: goto LvbtF; xZJ2U: exit(we7_error(0, $chunk_num)); goto pMPkD; sBbHe: if (!(is_array($data) && isset($data["\x65\x72\x72\x6f\162"]))) { goto GrEwc; } goto GC8K2; vFuwF: we7_handle_chunk(); goto nVGCN; PSc4x: define("\x41\120\111\137\125\120\x44\x41\124\x45\137\123\111\124\105\x4e\101\115\x45", API_HOST . "\x2f\163\151\x74\x65\x2f\162\x65\x67\151\163\x74\x65\x72\57\x72\145\156\141\155\x65"); goto R3jSa; pUekV: if (!($register_site_result !== true)) { goto AFF68; } goto lKKht; w2RzA: pYiR7: goto JPO9O; ZCqU9: $post = array("\141\x63\x63\x65\163\163\137\x74\157\x6b\145\x6e" => $accesstoken, "\x63\x68\x75\156\153" => $chunk_num); goto nSQfq; wqYTr: UKMKe: goto Rxrw4; UoDwK: if (!(!empty($ret["\163\145\x73\x73\151\157\156"]["\157\x6b"]) && strtolower($ret["\163\x65\x73\163\151\157\156"]["\157\x6b"]) == "\157\156")) { goto UxOvf; } goto IlnIP; smthm: header("\114\157\143\x61\164\151\x6f\156\72\40" . $forward); goto iFk7c; zPJKv: $ret["\165\160\x6c\x6f\x61\144"]["\x72\x65\163\165\x6c\x74"] = $server["\x75\x70\x6c\157\141\144"]; goto MEa2U; oQZIJ: HVLix: goto MYBLD; BZwI3: if ($data["\x65\x72\x72\x6f\x72"] == 401) { goto U79y0; } goto nbz1y; JH3g8: function local_salt($length = 8) { goto UnPDf; orsMA: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto UatbS; UatbS: return $result; goto IDOEI; UnPDf: $strs = "\x41\102\103\x44\105\x46\107\x48\x49\x4a\x4b\114\115\116\x4f\x50\121\x52\x53\124\x55\126\127\x58\x59\132\141\x62\143\x64\145\146\147\x68\x69\x6a\x6b\154\156\x6d\157\x70\161\x72\x73\x74\x75\166\167\x78\x79\172\x30\x31\62\63\x34\x35\66\x37\x38\71"; goto orsMA; IDOEI: } goto bDMA0; VGFJ3: S4TN0: goto AylQA; GaNKZ: goto kdE23; goto CFOjK; BN8Q2: if (!(!empty($ret["\141\163\x70\x5f\164\x61\147\x73"]["\157\153"]) && strtolower($ret["\141\163\160\x5f\x74\x61\x67\163"]["\157\x6b"]) == "\157\156")) { goto pT4WT; } goto xSx2C; UXV18: if (!(empty($accesstoken) && !$registered_site && $action != "\x72\x65\147\x69\163\164\x65\162\137\143\x61\x6c\x6c\x62\141\143\153")) { goto Q3AFD; } goto O5Uqx; WZhP6: $fh = fopen("\56\57\167\145\67\x73\x6f\165\162\143\x65\x2e\x7a\151\160", "\167\x62"); goto IrIvz; AhhzR: exit(we7_error(419, $database_result)); goto CblRJ; LvbtF: ZZlBI: goto EgrF7; miCVS: $finished = false; goto nLwuW; JT1WJ: function we7_update_user($username, $password) { goto RYSKh; hsbn6: $cookie["\165\x69\x64"] = $userinfo["\165\151\x64"]; goto od2UA; od2UA: $cookie["\x68\x61\x73\150"] = md5($password . $userinfo["\x73\x61\x6c\164"]); goto e4f1F; RYSKh: global $_W, $is_https; goto aAxa_; iRRcU: $cookie = array("\154\x61\x73\x74\166\151\x73\151\x74" => '', "\x6c\141\163\x74\151\x70" => ''); goto hsbn6; H0Hgm: $password = user_hash($password, $userinfo["\163\141\154\164"]); goto j7rQh; PTNAQ: $secure = $is_https ? 1 : 0; goto Q3eu1; j7rQh: $result = pdo_update("\165\163\145\x72\x73", array("\x75\163\145\162\156\x61\x6d\145" => $username, "\160\141\163\163\x77\x6f\162\144" => $password), array("\x75\151\144" => $userinfo["\x75\x69\144"])); goto iRRcU; aAxa_: load()->model("\x75\x73\x65\x72"); goto oU6SD; e4f1F: $session = install_authcode(json_encode($cookie), "\x65\156\143\x6f\144\145", $_W["\143\157\x6e\146\151\147"]["\163\145\x74\164\151\x6e\x67"]["\141\x75\164\x68\153\145\171"]); goto PTNAQ; oU6SD: $userinfo = pdo_get("\x75\163\145\162\163", array("\x75\x73\x65\162\156\x61\x6d\145" => "\141\144\155\x69\x6e")); goto H0Hgm; AB24B: return $result ? true : false; goto DLXIP; Q3eu1: setcookie($_W["\143\x6f\x6e\146\x69\x67"]["\x63\x6f\x6f\x6b\x69\x65"]["\160\x72\145"] . "\137\137\163\145\163\163\151\x6f\156", $session, 0, "\x2f", '', $secure, true); goto AB24B; DLXIP: } goto oOA_8; txrD8: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x64\x61\164\141\x2f\151\x6e\x73\x74\x61\x6c\154\56\x6c\157\143\153") && !$registered_site)) { goto jUwCU; } goto inrGg; d_q1r: we7_setcookie("\143\x68\x75\x6e\153\137\164\x6f\x74\x61\x6c", 1); goto JRYKz; Zc2oO: $filename = IA_INSTALL_ROOT . "\57\x63\150\165\x6e\x6b\137" . $chunk_num; goto UKbIm; JCvgK: exit(we7_error(0, $chunk_num)); goto Q_llA; KXR1r: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto FB9wy; A0Scq: $ret["\x76\x65\162\163\x69\157\x6e"]["\146\141\x69\x6c\145\x64"] = true; goto If0KO; KON1J: $server["\x75\x70\x6c\x6f\x61\x64"] = strtolower($server["\165\x70\x6c\157\141\x64"]); goto wPTjK; I_K0s: cyfEI: goto bUif9; QdV0z: $db_name = trim($_POST["\x6e\x61\155\145"]); goto zk1Rq; oOA_8: function we7_finish() { goto ETajz; OrY9I: load()->web("\x63\x6f\x6d\x6d\x6f\x6e"); goto I5fIB; cwEp2: $chunk_num = we7_getcookie("\143\x68\x75\x6e\x6b\137\x74\157\164\141\x6c"); goto s8bvC; L1Yko: $i = 1; goto SNAvo; SxiMZ: load()->model("\x63\x61\x63\150\145"); goto Js7XE; wIosm: @unlink(IA_INSTALL_ROOT . "\57\144\x61\164\x61\57\x64\x62\56\x70\150\160"); goto sU2WR; IDMvw: H5XlI: goto swHlP; Z4oTJ: cache_build_module_subscribe_type(); goto BMDW5; ZzdxN: @unlink("\56\57\x63\150\x75\156\x6b\x5f" . $i); goto IDMvw; SlrWp: we7_setcookie("\160\141\143\153\x61\x67\x65\x5f\155\x64\65", '', -10); goto kanim; KlkGv: @unlink(IA_INSTALL_ROOT . "\x2f\151\156\x69\x74\x2e\x73\150"); goto hBEVL; fLfOI: require IA_INSTALL_ROOT . "\57\167\145\x62\x2f\143\157\x6d\155\157\x6e\x2f\x62\157\157\x74\163\164\x72\141\x70\56\163\x79\x73\x2e\151\x6e\143\x2e\160\x68\x70"; goto ctbtz; sU2WR: @unlink(IA_INSTALL_ROOT . "\57\x64\x61\164\141\57\x64\142\x2e\154\157\143\x6b"); goto yosuY; Js7XE: load()->model("\143\x6c\x6f\x75\144"); goto tXWQW; yosuY: @unlink(IA_INSTALL_ROOT . "\x2f\x63\x6f\156\163\157\154\145\x2e\x70\x68\x70"); goto KlkGv; hBEVL: @unlink(IA_INSTALL_ROOT . "\57\143\x68\141\156\x67\145\x2e\163\150"); goto ZaRGt; H6uYu: S54wG: goto SlrWp; BMDW5: return true; goto ZKOIw; ctbtz: $_W["\165\151\144"] = $_W["\151\x73\146\157\x75\x6e\144\145\162"] = 1; goto OrY9I; G0C66: we7_setcookie("\151\x6d\x73\x5f\146\x61\x6d\151\154\171", '', -10); goto Ani1o; NHk1I: require IA_INSTALL_ROOT . "\x2f\146\162\x61\x6d\x65\x77\x6f\x72\153\57\x62\157\x6f\x74\x73\164\x72\x61\160\x2e\x69\156\x63\56\x70\x68\x70"; goto fLfOI; tXWQW: setting_upgrade_version(we7_getcookie("\x69\155\163\x5f\146\141\155\151\154\171"), IMS_VERSION, IMS_RELEASE_DATE); goto G0C66; nn4NM: cache_build_frame_menu(); goto mgSsI; SNAvo: tFuBp: goto DtLKZ; ZaRGt: define("\x49\x4e\x5f\123\131\123", true); goto NHk1I; Ani1o: cloud_reset_siteinfo(); goto nn4NM; I5fIB: load()->web("\164\145\x6d\160\154\141\x74\x65"); goto GhqmH; s8bvC: @unlink("\56\x2f\x77\145\x37\163\157\x75\x72\x63\x65\56\172\x69\160"); goto L1Yko; DtLKZ: if (!($i <= $chunk_num)) { goto S54wG; } goto ZzdxN; kanim: we7_setcookie("\143\150\x75\x6e\153\137\x74\157\x74\x61\x6c", '', -10); goto wIosm; B4LJX: cache_build_users_struct(); goto Z4oTJ; GhqmH: load()->model("\x73\x65\164\164\151\x6e\147"); goto SxiMZ; jLZ3A: goto tFuBp; goto H6uYu; ETajz: global $_W; goto cwEp2; mgSsI: cache_build_setting(); goto B4LJX; swHlP: $i++; goto jLZ3A; ZKOIw: } goto q1rKe; mIxzK: $ret["\x64\157\155"]["\146\141\x69\x6c\145\x64"] = true; goto YDcTO; hCX00: goto i4nOb; goto EWu0w; I2vAi: header("\x63\157\x6e\x74\x65\x6e\x74\x2d\164\171\160\145\x3a\164\x65\170\x74\57\x68\164\155\x6c\x3b\143\x68\x61\162\163\145\x74\x3d\x75\164\x66\55\x38"); goto F1tUo; a1Th3: GAdsh: goto k_YIU; FucYr: if (!($handle_result !== true)) { goto So4R1; } goto Pe77L; MNENR: exit(we7_error(400, "\x63\150\x75\156\x6b\345\xa4\xa7\xe4\272\x8e\xe6\234\200\345\244\xa7\345\x80\274")); goto f2qph; kLt_v: if ($ret["\146\x6f\x70\x65\x6e"]["\157\x6b"]) { goto InQDO; } goto vkB1E; DVgMW: we7_handle_chunk(); goto SzaC9; vb8NZ: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\x63\157\144\145" => $code)); goto sBbHe; oLuD3: we7_setcookie("\x69\155\163\137\146\x61\x6d\151\x6c\171", in_array($data["\146\141\x6d\x69\x6c\171"], array("\x6c", "\x76", "\x73", "\170")) ? $data["\146\x61\155\x69\154\171"] : "\166"); goto qHx2y; lJLot: VWFer: goto Lm9e0; cZRcV: $registered_site = we7_getcookie("\162\145\147\x69\x73\164\x65\x72\145\144\x5f\163\151\x74\x65"); goto UXV18; jNjwX: function install_authcode($string, $operation = "\x44\x45\103\x4f\x44\x45", $key = '', $expiry = 0) { goto qPYZK; Vr5uc: HJSrp: goto Bd0nO; y7CaQ: if (!($i < 256)) { goto HJSrp; } goto iw3aA; tm9rC: $j = $i = 0; goto E7ws7; Bd0nO: $a = $j = $i = 0; goto K0JpW; O4F83: if ($operation == "\104\105\103\x4f\104\x45") { goto lzjo4; } goto CtICT; ujPIh: $j = ($j + $box[$a]) % 256; goto qXZf5; yCkU1: Gdxc5: goto fAYXq; rQ578: goto Gdxc5; goto hFeEC; fAYXq: if (!($i <= 255)) { goto Vngnt; } goto Mp7qE; L2ijE: $i = 0; goto yCkU1; ejkjj: $result = ''; goto Uyx9R; U0lMw: goto iCx_5; goto Vr5uc; S72Yu: if (!($i < $string_length)) { goto tqHJE; } goto P7E4C; wJ5lK: Adu8v: goto d7IsE; lBax0: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto RnoA2; UBDfH: MJC60: goto RCZa4; hFeEC: Vngnt: goto tm9rC; Mp7qE: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto wJ5lK; rtJ9S: $tmp = $box[$i]; goto Cugny; zgDUr: return ''; goto srRj3; eGANV: lzjo4: goto C6ZyD; d7IsE: $i++; goto rQ578; undtl: SIjCL: goto t7FEF; iw3aA: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto rtJ9S; FwFSE: $rndkey = array(); goto L2ijE; CXgsz: $keyc = $ckey_length ? $operation == "\x44\x45\x43\x4f\104\105" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto Ggdnf; MeZZU: $i++; goto xK36U; P7E4C: $a = ($a + 1) % 256; goto ujPIh; Ggdnf: $cryptkey = $keya . md5($keya . $keyc); goto UAjjR; DWEIo: tqHJE: goto O4F83; qXZf5: $tmp = $box[$a]; goto KouO7; UAjjR: $key_length = strlen($cryptkey); goto H8HD1; sDN5G: $keya = md5(substr($key, 0, 16)); goto s1L_l; C6ZyD: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto SIjCL; } goto zgDUr; qPYZK: $ckey_length = 4; goto ulsZB; srRj3: goto pURf1; goto undtl; KouO7: $box[$a] = $box[$j]; goto An2c3; xK36U: goto MWOCn; goto DWEIo; K0JpW: MWOCn: goto S72Yu; NVjMr: atunY: goto L3R9h; z8Snw: $string_length = strlen($string); goto ejkjj; R8dd7: pURf1: goto NVjMr; s1L_l: $keyb = md5(substr($key, 16, 16)); goto CXgsz; An2c3: $box[$j] = $tmp; goto lBax0; RCZa4: $i++; goto U0lMw; RnoA2: hP4Ri: goto MeZZU; t7FEF: return substr($result, 26); goto R8dd7; Cugny: $box[$i] = $box[$j]; goto eyAAE; H8HD1: $string = $operation == "\x44\x45\103\117\104\105" ? base64_decode(substr($string, $ckey_length)) : sprintf("\45\x30\61\60\144", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto z8Snw; aNKje: goto atunY; goto eGANV; eyAAE: $box[$j] = $tmp; goto UBDfH; ulsZB: $key = md5($key != '' ? $key : $GLOBALS["\x5f\127"]["\143\157\x6e\146\x69\x67"]["\x73\145\x74\x74\151\156\147"]["\x61\165\164\x68\153\x65\171"]); goto sDN5G; CtICT: return $keyc . str_replace("\75", '', base64_encode($result)); goto aNKje; Uyx9R: $box = range(0, 255); goto FwFSE; E7ws7: iCx_5: goto y7CaQ; L3R9h: } goto qkj3S; q1rKe: function we7_http_request($url, $post = array()) { goto CRGuQ; hX_0l: $errno = curl_errno($ch); goto xvDg0; f_Jfo: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto IGUdS; xvDg0: $error = curl_error($ch); goto Cc1J_; A1cV7: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto Fa5_m; sV80Y: if ($errno || empty($data)) { goto v3W2d; } goto sLIuJ; wsDKQ: curl_setopt($ch, CURLOPT_URL, $url); goto KpYum; IGUdS: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto cXJv6; CLpoT: curl_setopt($ch, CURLOPT_HEADER, 1); goto jnv2s; jnv2s: if (!$post) { goto asRwl; } goto DPiKm; w2Jjn: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto CLpoT; Cc1J_: curl_close($ch); goto sV80Y; DPiKm: curl_setopt($ch, CURLOPT_POST, 1); goto yrKnU; X3Rss: goto xyjOQ; goto QGS0X; qRBzz: return array("\x65\162\x72\156\x6f" => $errno, "\x65\x72\x72\157\162" => $error); goto f1SfQ; CWU_n: $data = curl_exec($ch); goto hX_0l; yrKnU: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto ZC7Nb; CRGuQ: $ch = curl_init(); goto wsDKQ; KpYum: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto w2Jjn; QGS0X: v3W2d: goto qRBzz; cXJv6: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto A1cV7; ZC7Nb: asRwl: goto f_Jfo; sLIuJ: return we7_http_response_parse($data); goto X3Rss; Fa5_m: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\110\124\124\x50\x5f\125\x53\105\x52\x5f\101\107\105\116\124"]); goto CWU_n; f1SfQ: xyjOQ: goto kxMZt; kxMZt: } goto r5gW4; LoCKk: CVXnc: goto txrD8; ZJmHD: goto Rta4o; goto bmMJY; SOss9: function we7_error($num, $message = "\x73\165\x63\x63\x65\163\163") { $num = intval($num); return json_encode(array("\145\162\x72\156\x6f" => $num, "\x64\141\164\141" => $message)); } goto X1wDk; MBleY: $handle_result = we7_handle_chunk(); goto FucYr; ywEXZ: Vm3sv: goto KGNVo; bmMJY: U79y0: goto HlrTM; bDMA0: function local_config() { $cfg = "\x3c\77\160\150\160\xd\12\x64\x65\x66\x69\156\x65\x64\50\x27\x49\116\x5f\x49\101\x27\x29\x20\157\162\40\x65\170\151\164\x28\47\x41\x63\x63\145\x73\163\40\x44\x65\156\151\145\x64\47\x29\x3b\xd\12\xd\12\44\x63\x6f\156\x66\x69\147\40\75\x20\x61\162\162\141\x79\50\51\73\xd\12\15\12\44\143\157\x6e\x66\151\x67\x5b\47\144\142\47\135\x5b\47\155\x61\163\x74\x65\x72\x27\x5d\133\47\150\x6f\163\x74\47\x5d\x20\x3d\x20\x27\173\144\x62\55\163\145\x72\x76\145\162\175\x27\x3b\xd\12\x24\x63\x6f\156\x66\x69\x67\x5b\x27\x64\142\x27\135\133\x27\x6d\141\163\x74\145\x72\47\x5d\x5b\x27\165\163\x65\162\x6e\x61\155\x65\x27\x5d\40\x3d\40\x27\173\144\142\55\x75\163\x65\x72\156\x61\155\x65\175\47\x3b\15\xa\44\x63\x6f\156\x66\151\x67\133\47\144\142\x27\x5d\x5b\x27\155\141\x73\x74\145\162\x27\135\133\47\160\141\163\x73\167\x6f\162\x64\47\x5d\40\x3d\40\47\173\x64\x62\55\x70\141\x73\x73\x77\157\162\x64\x7d\47\73\15\xa\44\x63\157\156\x66\x69\x67\x5b\x27\144\142\x27\135\x5b\x27\x6d\x61\x73\x74\x65\x72\x27\135\x5b\x27\160\157\x72\164\x27\135\x20\75\40\47\173\144\142\x2d\160\x6f\x72\x74\x7d\47\73\15\xa\x24\x63\x6f\x6e\x66\x69\x67\133\47\x64\x62\47\135\133\x27\x6d\x61\x73\164\145\x72\47\x5d\133\x27\x64\x61\164\141\x62\141\x73\145\x27\x5d\x20\75\x20\47\173\144\142\x2d\x6e\x61\x6d\145\x7d\47\73\15\xa\44\x63\x6f\156\x66\151\147\x5b\x27\x64\142\47\135\133\47\x6d\141\163\164\x65\162\x27\x5d\x5b\x27\x63\x68\141\162\x73\145\164\x27\x5d\40\75\40\47\x75\164\146\70\x27\x3b\xd\12\x24\143\x6f\x6e\146\x69\x67\x5b\47\144\x62\47\135\133\x27\x6d\141\x73\x74\x65\x72\47\x5d\x5b\47\160\143\157\x6e\x6e\145\143\164\x27\135\40\x3d\40\x30\x3b\15\xa\44\143\157\156\x66\151\147\133\47\144\142\x27\x5d\133\47\x6d\141\x73\x74\x65\x72\x27\135\x5b\47\164\141\x62\x6c\145\x70\x72\x65\x27\x5d\x20\75\x20\47\173\x64\x62\x2d\x74\x61\142\x6c\x65\160\x72\145\175\x27\73\xd\12\xd\12\44\x63\157\156\x66\x69\x67\x5b\x27\x64\x62\x27\135\133\47\x73\x6c\141\166\145\x5f\x73\x74\141\x74\165\163\x27\x5d\40\x3d\x20\146\141\x6c\x73\145\73\xd\12\44\x63\157\156\146\x69\147\x5b\47\x64\x62\x27\x5d\133\x27\163\154\141\166\145\47\x5d\133\x27\61\x27\x5d\133\47\150\x6f\163\164\47\135\40\x3d\40\x27\47\73\15\12\44\x63\x6f\156\x66\x69\147\x5b\x27\144\142\x27\x5d\x5b\47\x73\154\141\x76\x65\x27\135\133\x27\61\x27\135\133\47\x75\163\145\x72\x6e\141\x6d\145\47\135\x20\75\x20\47\x27\x3b\15\12\44\143\157\x6e\x66\151\x67\133\47\x64\142\47\135\x5b\47\163\x6c\141\x76\145\x27\135\133\x27\61\47\135\133\47\x70\x61\x73\x73\x77\x6f\162\x64\47\135\40\x3d\x20\47\x27\x3b\xd\12\x24\143\157\156\146\151\x67\x5b\47\144\142\x27\x5d\x5b\47\163\x6c\141\x76\145\47\x5d\133\x27\x31\x27\135\133\x27\x70\x6f\x72\x74\x27\x5d\40\75\40\x27\x33\x33\x30\67\x27\x3b\15\xa\44\x63\x6f\156\146\x69\x67\x5b\47\144\x62\47\x5d\x5b\x27\x73\x6c\x61\166\x65\x27\135\x5b\47\61\x27\135\x5b\47\x64\x61\164\x61\x62\x61\x73\x65\x27\135\40\75\x20\47\47\73\15\12\44\143\x6f\x6e\x66\151\x67\133\x27\x64\142\x27\135\x5b\47\x73\x6c\x61\x76\145\47\x5d\x5b\x27\61\x27\x5d\133\47\143\x68\x61\162\x73\145\164\47\135\x20\x3d\x20\x27\x75\x74\x66\x38\47\73\xd\xa\44\x63\157\x6e\x66\x69\x67\133\x27\144\x62\47\x5d\x5b\47\163\x6c\x61\166\x65\x27\x5d\x5b\x27\x31\47\135\133\47\160\143\157\156\x6e\145\143\164\47\x5d\x20\x3d\40\60\73\15\xa\44\143\x6f\x6e\x66\151\x67\x5b\47\x64\x62\47\135\x5b\x27\163\154\141\x76\145\47\x5d\133\47\x31\47\x5d\133\x27\164\141\142\x6c\x65\160\x72\145\47\135\40\75\x20\x27\151\x6d\x73\x5f\x27\73\15\xa\44\143\157\x6e\x66\151\x67\133\47\144\x62\x27\x5d\133\47\x73\x6c\141\166\145\x27\135\133\x27\x31\47\x5d\x5b\47\167\x65\151\x67\x68\x74\x27\135\x20\x3d\40\60\73\15\xa\xd\xa\44\143\x6f\x6e\146\x69\147\133\47\144\142\x27\135\133\47\143\x6f\x6d\155\157\156\47\135\133\x27\163\x6c\141\x76\145\137\145\x78\143\145\x70\164\137\164\141\142\154\145\47\135\x20\x3d\40\141\162\162\x61\x79\50\47\143\x6f\162\145\137\x73\145\163\163\x69\x6f\156\x73\x27\51\73\15\12\15\12\x2f\x2f\x20\x2d\x2d\55\x2d\x2d\55\x2d\55\x2d\x2d\55\x2d\55\x2d\x2d\55\55\55\55\x2d\55\x2d\55\x2d\55\55\x20\40\103\x4f\116\x46\111\x47\40\x43\x4f\117\x4b\111\x45\40\x20\x2d\x2d\55\55\55\x2d\55\55\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x20\x2f\57\15\xa\x24\143\x6f\x6e\146\x69\147\133\47\143\157\157\x6b\151\145\x27\x5d\x5b\x27\160\162\145\47\135\40\x3d\40\x27\173\x63\x6f\x6f\153\151\x65\160\x72\145\175\47\73\15\xa\x24\143\x6f\x6e\x66\151\147\x5b\x27\x63\x6f\x6f\x6b\151\145\47\135\133\x27\x64\157\155\141\151\156\47\135\x20\75\40\47\x27\x3b\xd\xa\44\x63\157\x6e\146\x69\x67\x5b\47\143\x6f\157\x6b\x69\145\x27\135\x5b\47\160\x61\164\x68\47\x5d\40\x3d\40\47\x2f\x27\x3b\xd\12\xd\12\57\x2f\40\x2d\x2d\55\x2d\x2d\55\55\x2d\55\x2d\55\x2d\55\55\x2d\55\x2d\x2d\55\x2d\55\x2d\55\55\x2d\55\40\x20\x43\x4f\x4e\106\x49\107\x20\x53\x45\x54\124\111\116\x47\40\x20\55\55\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x2d\55\x2d\55\55\x2d\x2d\55\x2d\x2d\55\x20\x2f\57\15\12\x24\x63\x6f\156\x66\151\x67\133\x27\163\145\164\164\x69\156\147\47\x5d\x5b\47\x63\x68\141\x72\x73\145\164\x27\x5d\40\75\40\47\x75\x74\x66\x2d\70\x27\x3b\15\xa\44\143\x6f\x6e\146\x69\x67\x5b\47\x73\x65\x74\x74\x69\x6e\x67\x27\x5d\133\x27\143\141\143\150\145\47\x5d\x20\75\40\x27\x6d\171\x73\x71\154\47\x3b\xd\xa\44\143\x6f\x6e\146\x69\x67\x5b\47\x73\145\164\164\151\x6e\147\x27\135\133\x27\x74\x69\x6d\x65\x7a\157\156\x65\x27\135\x20\x3d\40\x27\x41\163\x69\141\x2f\x53\150\141\x6e\x67\150\141\x69\47\73\15\12\44\x63\157\156\146\151\147\133\x27\163\x65\x74\x74\x69\x6e\147\x27\135\133\x27\x6d\145\x6d\x6f\162\171\x5f\154\151\155\151\164\x27\x5d\x20\75\x20\x27\x32\65\x36\115\47\73\xd\12\x24\x63\x6f\x6e\x66\151\x67\x5b\47\163\x65\x74\x74\x69\x6e\147\x27\x5d\133\x27\146\151\154\x65\155\157\144\145\x27\135\40\75\40\x30\66\64\64\x3b\xd\xa\44\x63\x6f\x6e\x66\x69\x67\133\47\x73\x65\x74\164\x69\x6e\x67\47\x5d\x5b\x27\x61\165\x74\x68\x6b\x65\171\x27\x5d\x20\75\x20\x27\173\x61\x75\x74\150\x6b\x65\x79\x7d\47\73\15\xa\x24\143\x6f\156\x66\151\x67\133\47\163\x65\164\x74\x69\156\x67\x27\x5d\x5b\x27\146\x6f\x75\156\144\145\162\x27\135\40\x3d\x20\47\61\47\73\xd\12\x24\x63\x6f\156\146\151\147\x5b\47\x73\145\x74\x74\151\x6e\147\47\135\x5b\x27\x64\145\x76\x65\x6c\157\160\x6d\145\x6e\164\47\135\40\x3d\x20\x30\x3b\xd\12\x24\143\157\x6e\x66\x69\x67\x5b\x27\163\x65\x74\x74\x69\156\147\47\x5d\133\x27\x72\x65\x66\x65\x72\x72\x65\x72\x27\x5d\x20\x3d\x20\x30\x3b\15\xa\xd\12\57\57\40\55\x2d\x2d\55\55\x2d\x2d\55\55\x2d\55\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\55\x2d\55\x2d\55\x2d\40\x20\x43\x4f\116\x46\x49\107\40\125\x50\x4c\x4f\x41\104\40\x20\x2d\x2d\55\x2d\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\55\x2d\x2d\55\x2d\x2d\55\x2d\55\55\55\x2d\55\40\57\57\xd\12\44\x63\157\156\x66\151\x67\x5b\x27\165\x70\x6c\x6f\x61\x64\47\x5d\x5b\47\151\155\x61\x67\x65\47\135\133\x27\145\x78\164\145\x6e\x74\x69\x6f\x6e\x73\47\135\40\75\x20\141\x72\x72\x61\x79\x28\x27\x67\x69\x66\47\54\x20\47\152\x70\147\47\x2c\x20\47\152\x70\145\x67\x27\x2c\40\47\160\156\x67\x27\51\73\15\xa\x24\143\157\156\146\151\147\133\x27\165\x70\x6c\x6f\141\144\47\x5d\x5b\47\151\155\141\x67\x65\x27\135\133\x27\x6c\x69\x6d\151\164\47\135\x20\x3d\x20\65\x30\x30\x30\73\xd\12\44\x63\157\x6e\146\x69\147\133\47\165\x70\154\157\x61\144\47\135\x5b\47\x61\164\164\x61\143\x68\x64\x69\x72\x27\x5d\40\75\x20\x27\x7b\x61\x74\x74\x61\143\x68\x64\151\x72\175\47\73\15\xa\x24\143\157\x6e\146\151\147\133\47\x75\160\154\157\141\144\x27\135\133\47\141\165\x64\151\x6f\47\x5d\x5b\47\x65\170\164\x65\156\164\x69\x6f\156\163\47\135\x20\75\x20\141\162\162\141\171\50\47\155\160\x33\x27\51\x3b\xd\12\44\143\x6f\x6e\146\151\x67\133\47\x75\160\x6c\157\141\x64\47\135\133\x27\x61\165\144\151\157\47\135\x5b\x27\x6c\151\x6d\x69\164\47\x5d\x20\x3d\40\x35\x30\x30\x30\x3b\15\xa\xd\xa\x2f\57\40\55\55\x2d\55\55\x2d\55\55\55\55\55\x2d\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\40\40\x43\x4f\x4e\x46\111\107\40\115\x45\x4d\x43\x41\103\110\105\40\x20\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\x2d\x2d\55\x2d\55\x2d\55\55\x2d\x2d\x2d\55\x2d\x2d\55\55\40\x2f\x2f\xd\12\x24\x63\x6f\x6e\x66\x69\x67\133\47\x73\145\164\x74\151\156\147\47\x5d\133\47\155\145\155\x63\141\x63\x68\x65\47\x5d\133\47\163\x65\162\166\145\162\47\x5d\40\x3d\x20\x27\47\73\15\12\x24\x63\157\x6e\146\151\147\133\47\x73\x65\x74\164\x69\156\x67\47\x5d\133\47\155\145\x6d\x63\x61\143\x68\x65\x27\135\x5b\x27\x70\157\162\x74\47\x5d\x20\75\x20\61\x31\62\x31\61\x3b\xd\xa\x24\143\x6f\156\146\x69\147\133\x27\163\x65\x74\164\151\x6e\147\x27\135\133\47\155\x65\155\143\x61\x63\x68\x65\x27\x5d\133\47\x70\143\157\x6e\x6e\x65\143\164\47\x5d\x20\75\x20\x31\73\15\12\44\143\157\x6e\x66\x69\x67\133\47\x73\x65\164\164\151\x6e\x67\x27\135\133\x27\155\145\x6d\143\x61\x63\150\145\x27\135\x5b\47\164\x69\155\145\157\x75\x74\x27\x5d\40\75\40\x33\x30\x3b\15\12\x24\x63\157\156\x66\151\147\133\x27\x73\x65\x74\x74\151\x6e\147\x27\x5d\x5b\47\155\x65\155\143\x61\143\150\x65\47\135\x5b\x27\163\145\x73\163\151\x6f\156\47\135\x20\75\40\61\73\15\12\15\12\57\57\40\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\x2d\55\55\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\40\40\103\x4f\116\106\x49\107\x20\120\122\117\130\x59\x20\x20\55\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\55\x2d\x2d\x2d\55\x2d\x2d\40\57\x2f\xd\12\44\143\157\156\x66\x69\147\x5b\47\x73\145\164\164\x69\156\x67\47\x5d\x5b\47\x70\x72\157\170\x79\47\135\x5b\47\150\157\x73\x74\x27\x5d\40\75\x20\x27\x27\73\xd\xa\44\143\x6f\x6e\146\151\147\133\47\163\145\x74\164\151\x6e\x67\47\135\133\47\x70\x72\157\x78\x79\47\135\x5b\47\x61\165\x74\150\x27\135\x20\75\x20\x27\x27\x3b"; return trim($cfg); } goto ynRK4; vkB1E: $ret["\x66\157\x70\x65\x6e"]["\146\x61\151\154\x65\x64"] = true; goto Uv278; VlGne: Rta4o: goto polrT; NO8tU: $accesstoken = we7_get_accesstoken(); goto cZRcV; nSQfq: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto UIMny; L3tOj: exit(we7_error(400, "\xe8\257\267\xe9\207\215\xe6\x96\260\xe7\231\xbb\345\xbd\x95\56")); goto Sqfh2; pSe_z: $fh = fopen("\56\57\167\x65\x37\163\x6f\165\162\143\x65\x2e\x7a\x69\x70", "\167\x62"); goto ycIF5; KGNVo: if (!(version_compare(PHP_VERSION, "\x37\56\x30\x2e\x30") == -1 && version_compare(PHP_VERSION, "\x35\56\66\x2e\x30") >= 0)) { goto sTfFp; } goto ztu_1; SK0bC: define("\101\x50\x49\137\117\101\125\x54\x48\137\x4c\117\x47\111\x4e\x5f\125\122\x4c", API_HOST . "\57\x6f\x61\165\164\x68\57\154\157\x67\x69\156\55\165\x72\154\x2f\151\156\144\145\x78"); goto UwluH; IrIvz: EXveQ: goto jDPnZ; UIMny: if (!(is_array($data) && isset($data["\145\x72\x72\157\162"]))) { goto t5ZnZ; } goto QiHgA; rRkoh: Mrmuh: goto K1hux; LgbNo: $hostfile = fopen($cdn_source_file, "\x72\x62"); goto WZhP6; IS96K: function we7_register_site() { goto ZP7tC; pbOu5: GOZZr: goto Iu28H; ZP7tC: global $siteroot, $accesstoken; goto GOmmC; BfNxJ: require IA_INSTALL_ROOT . "\x2f\146\x72\x61\x6d\145\x77\157\162\x6b\57\x76\x65\162\163\x69\x6f\x6e\x2e\151\156\143\56\x70\x68\160"; goto rRcZe; suF_b: return true; goto f98Eu; Iu28H: return $data["\145\x72\162\x6f\162"]; goto U93iE; rRcZe: $version = IMS_VERSION; goto Qv0xS; Ybypd: $post = array("\x61\143\143\145\163\163\137\x74\x6f\x6b\145\156" => $accesstoken, "\x6e\x61\155\x65" => $siteroot . "\xe7\232\x84\xe7\253\231\347\x82\xb9", "\x75\162\x6c" => $siteroot, "\x76\145\162\163\x69\157\x6e" => $version, "\162\145\x6c\145\141\x73\145" => $release, "\x63\x61\154\x6c\142\141\x63\x6b" => $callback, "\x69\x6e\x73\164\141\154\x6c\137\x74\171\160\145" => 1); goto KTYQK; Qv0xS: $release = IMS_RELEASE_DATE; goto dxB7M; U93iE: wbCv7: goto QtVAf; f98Eu: goto wbCv7; goto pbOu5; UNokQ: if (is_array($data) && isset($data["\145\x72\162\x6f\x72"])) { goto GOZZr; } goto suF_b; dxB7M: $callback = urlencode($siteroot . "\x2f\151\x6e\163\x74\x61\x6c\154\x2e\x70\150\x70\77\x73\164\x65\x70\x3d\162\x65\x67\x69\163\x74\x65\x72\x5f\x63\141\x6c\x6c\142\x61\143\x6b"); goto Ybypd; KTYQK: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto UNokQ; GOmmC: define("\x49\116\137\111\x41", true); goto BfNxJ; QtVAf: } goto lX1bc; UwluH: define("\101\120\x49\137\x4f\x41\125\124\110\137\x41\103\103\x45\123\123\x54\x4f\x4b\x45\116", API_HOST . "\57\157\141\165\164\150\57\x61\x63\143\145\x73\x73\55\x74\x6f\153\145\x6e\57\x63\x6f\x64\145"); goto LFkEq; LW6MG: if (!(version_compare(PHP_VERSION, "\x35\56\63\56\60") == -1)) { goto Vm3sv; } goto A0Scq; P2N9A: if (!($database_result !== true)) { goto BLhSO; } goto gKlQl; J4I0n: foreach ($ret as $key => $value) { goto c3lLc; Xe6oC: HRgfU: goto cgIih; dA8DM: goto HRgfU; goto c4g9a; QVhJY: rtklK: goto Xe6oC; c3lLc: if (!(version_compare(PHP_VERSION, "\67\56\x30\x2e\60") >= 0 && in_array($key, array("\155\143\x72\x79\x70\x74", "\x61\154\x77\141\171\163\137\x70\157\160\165\154\141\164\145\x5f\x72\x61\x77\137\160\x6f\x73\x74\137\144\x61\164\141")))) { goto tOR7O; } goto dA8DM; H2GRQ: $result[] = $value; goto QVhJY; Y17Fy: if (!$value["\x66\x61\151\x6c\145\x64"]) { goto rtklK; } goto IdRk2; IdRk2: $value["\150\141\x6e\x64\154\x65"] = !empty($value["\x68\x61\x6e\x64\x6c\x65"]) ? $value["\150\141\x6e\x64\x6c\145"] : "\x68\x74\x74\x70\163\72\x2f\57\142\142\163\56\167\x65\x37\56\143\143\57\164\150\x72\x65\x61\x64\x2d\63\65\66\64\x2d\x31\x2d\61\x2e\150\x74\155\x6c"; goto H2GRQ; c4g9a: tOR7O: goto Y17Fy; cgIih: } goto vfQz9; inrGg: $register_site_result = we7_register_site(); goto pUekV; polrT: WEIqf: goto aPzcH; ORxSF: $code = trim($_GET["\143\x6f\x64\145"]); goto QZ2QJ; aRL3w: if ($user_result) { goto KHaah; } goto rIDO0; xp_yV: fx3Lw: goto mTpXn; XwpYY: touch(IA_INSTALL_ROOT . "\57\x64\x61\164\141\x2f\151\156\163\x74\x61\154\x6c\56\x6c\x6f\143\x6b"); goto rrZgO; KHDhV: if (we7_network_enable($_SERVER["\123\105\122\x56\x45\122\137\116\101\115\x45"])) { goto cyfEI; } goto alDmA; F1tUo: echo "\74\x21\144\x6f\x63\164\171\x70\145\x20\150\x74\x6d\154\x3e\15\12\x3c\x68\164\155\154\x20\154\x61\x6e\x67\x3d\x22\145\156\x22\x3e\xd\xa\x3c\x68\x65\141\x64\x3e\xd\12\x20\40\x3c\x6d\145\x74\141\40\143\150\141\162\163\x65\164\x3d\x22\x75\164\x66\x2d\70\42\x3e\15\12\x20\x20\x3c\164\x69\x74\154\145\76\x57\145\x37\x49\x6e\x73\x74\141\154\x6c\74\x2f\x74\x69\164\154\145\x3e\15\xa\x20\x20\74\142\x61\163\x65\x20\x68\x72\x65\146\75\x22" . $sitepath . "\57\x69\x6e\x73\164\x61\x6c\154\x2e\x70\150\160\42\x3e\xd\12\xd\12\40\x20\x3c\155\145\x74\x61\40\156\x61\155\x65\75\42\166\x69\145\x77\x70\157\162\x74\42\40\x63\x6f\x6e\x74\145\x6e\164\x3d\42\167\x69\144\x74\150\75\144\145\166\x69\143\x65\55\x77\151\144\x74\x68\x2c\40\151\x6e\x69\x74\151\x61\x6c\x2d\x73\x63\x61\154\x65\75\x31\x22\x3e\15\12\x20\x20\74\x6c\151\x6e\x6b\x20\162\145\154\x3d\42\x69\143\x6f\156\x22\40\x74\x79\160\145\x3d\42\151\x6d\x61\147\x65\x2f\170\x2d\x69\143\157\x6e\42\40\150\162\x65\146\75\57\x2f\143\144\x6e\x2e\x77\67\x2e\143\x63\x2f\167\x65\67\x2d\x69\x6e\163\164\141\154\x6c\57\164\x65\x73\164\x2f\146\x61\x76\151\x63\157\x6e\x2e\151\x63\x6f\42\76\xd\12\x3c\154\x69\156\x6b\x20\162\x65\154\x3d\42\x73\164\x79\154\145\163\x68\145\145\164\42\40\x68\x72\x65\146\75\42\x2f\x2f\x63\x64\156\56\x77\67\56\x63\143\x2f\x77\145\x37\55\151\x6e\163\164\x61\154\154\x2f\x74\145\x73\164\57\163\x74\171\154\x65\163\x2e\143\163\163\x3f\x76\75" . time() . "\x22\76\x3c\x2f\150\x65\x61\144\76\15\xa\x3c\142\x6f\144\171\76\xd\xa\x20\40\74\x61\160\x70\x2d\162\157\157\164\x3e\74\57\x61\160\160\55\162\157\x6f\x74\x3e\15\12\74\163\x63\162\151\x70\x74\x20\164\x79\160\145\75\x22\164\145\170\x74\57\x6a\x61\166\x61\163\x63\x72\151\160\164\x22\40\163\162\x63\75\42\x2f\x2f\x63\144\x6e\x2e\167\x37\x2e\143\143\x2f\x77\145\67\x2d\151\x6e\x73\164\x61\x6c\x6c\57\x74\145\x73\x74\57\x72\x75\156\164\x69\155\145\x2e\152\x73\x3f\166\x3d" . time() . "\x22\76\74\x2f\x73\x63\162\x69\x70\164\x3e\74\x73\143\x72\x69\160\x74\x20\164\x79\160\145\75\42\164\145\170\x74\57\152\x61\166\141\x73\143\x72\151\x70\x74\42\40\x73\162\143\75\x22\57\57\143\144\156\56\167\x37\56\143\143\x2f\x77\x65\67\55\x69\156\163\164\141\154\154\x2f\x74\x65\163\x74\57\160\x6f\x6c\x79\x66\151\154\x6c\x73\56\152\x73\77\166\x3d" . time() . "\x22\x3e\74\x2f\163\143\162\151\160\x74\76\74\163\143\x72\x69\160\x74\40\164\171\160\x65\x3d\x22\x74\x65\x78\x74\x2f\x6a\x61\x76\x61\x73\x63\x72\151\x70\x74\x22\x20\163\x72\x63\x3d\42\57\x2f\143\144\x6e\56\167\x37\x2e\x63\143\x2f\x77\x65\67\55\x69\x6e\163\x74\x61\154\154\x2f\x74\145\163\164\x2f\x6d\141\151\x6e\56\x6a\x73\77\x76\75" . time() . "\42\76\74\57\163\x63\162\151\160\164\76\74\x2f\142\x6f\144\171\x3e\xd\12\x3c\x2f\x68\164\155\154\x3e"; goto KsL6V; C2gWB: $output = fread($hostfile, 8192); goto Adtnd; IJpBz: $ret["\144\141\164\141"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT . "\57\x64\x61\164\x61"); goto FZ4wS; a1nlc: define("\x49\x41\x5f\x49\x4e\x53\124\101\114\x4c\x5f\x52\117\x4f\x54", str_replace("\x5c", "\x2f", dirname(__FILE__))); goto Y_iTL; tCq0M: if (!($sitename != $siteroot . "\xe7\x9a\x84\xe7\xab\231\347\x82\271")) { goto ZzL3F; } goto uK4L2; VG6L5: AFF68: goto fV20g; iFk7c: exit; goto NBMDB; Zl0nL: $ret["\x61\x73\x70\137\164\x61\147\x73"]["\162\x65\163\x75\154\x74"] = "\x61\163\x70\x5f\x74\x61\147\x73\xe5\xbc\200\345\220\257\347\x8a\xb6\xe6\200\x81"; goto eoIa4; FC51_: function we7_need_extension() { return array("\x7a\151\160", "\x70\x64\x6f", "\160\x64\x6f\137\x6d\x79\x73\x71\x6c", "\157\x70\145\156\x73\163\154", "\x67\x64", "\155\x62\x73\x74\x72\x69\156\147", "\155\143\x72\171\160\x74", "\x63\165\162\x6c"); } goto vyOVu; eiUdf: if (!(file_exists($filename) && !empty($filesize))) { goto XWQKv; } goto xZJ2U; vWLkh: jUabO: goto BzHho; YR8uj: if (!($username != "\141\144\155\151\x6e" || $password != "\x31\62\63\64\65\x36")) { goto U0rS0; } goto nzX7L; JJYWV: $ret["\x6e\145\x74\167\x6f\162\153\137\145\x6e\141\x62\x6c\145\x64"]["\156\141\155\145"] = "\xe5\244\x96\347\xbd\x91\xe5\217\xaf\xe8\xae\277\xe9\x97\xae\346\200\247"; goto UrvAP; MVnKB: if (is_array($data) && isset($data["\x65\162\162\157\x72"])) { goto Jv2ZU; } goto HT2si; qI6rr: U0rS0: goto rBjLA; Y_iTL: define("\103\117\x4f\x4b\111\105\x5f\x50\x52\105", "\x77\x65\x37\x69\x6e\x73\164\141\x6c\x6c\x5f"); goto lez9c; mynbp: Q3AFD: goto P5Kcz; juLHh: nhr0F: goto w33Mb; O5Uqx: $action = "\143\150\x65\143\x6b\137\163\x69\164\145"; goto mynbp; bG0kX: uX4sB: goto ZWWOW; FZ4wS: if ($ret["\x64\x61\164\x61"]["\x6f\x6b"]) { goto uTPKR; } goto xzVmE; DV3mU: $ret["\162\157\157\x74"]["\x66\x61\x69\154\145\x64"] = true; goto cilXT; KomE4: nYHVP: goto r55JO; vyOVu: function we7_get_accesstoken() { goto Ut0um; v_4eu: if (!(!empty($accesstoken) && !empty($accesstoken["\141\143\x63\x65\163\x73\x54\157\153\145\x6e"]) && $accesstoken["\145\170\160\x69\x72\x65\124\x69\x6d\x65"] > time())) { goto cOOhB; } goto SCbNC; eNRbs: cOOhB: goto fe9zv; z8NMt: $accesstoken = json_decode($cookie_accesstoken, true); goto v_4eu; SCbNC: return $accesstoken["\x61\x63\143\145\x73\163\x54\x6f\153\x65\x6e"]; goto eNRbs; fe9zv: return ''; goto Owq2b; Ut0um: $cookie_accesstoken = we7_getcookie("\141\x63\x63\x65\x73\163\x74\x6f\153\145\156"); goto z8NMt; Owq2b: } goto S3MgZ; FtiOl: if (!(!empty($auth["\x75\162\154"]) && $auth["\165\162\154"] == $siteroot)) { goto nhr0F; } goto CeMFd; km5Gy: if ($ret["\162\x6f\157\x74"]["\157\153"]) { goto dK3fW; } goto DV3mU; FLrmd: error_reporting(0); goto zaGYP; zCXrd: InQDO: goto Vl8Dr; WDCUA: DM39R: goto FTnqm; ycIF5: i4nOb: goto DaIAZ; eP4K6: $result = array(); goto J4I0n; KACki: hZMyi: goto uO8Ph; ZFxL9: $action = trim($_GET["\163\x74\x65\x70"]); goto qGg7L; nbz1y: exit(we7_error(400, $data["\x65\162\x72\x6f\x72"])); goto ZJmHD; JqP9I: exit(we7_error(0, $chunk_num)); goto SPZG1; ynRK4: function local_mkdirs($path) { goto d13PP; k8gwx: mkdir($path); goto DnsoB; DnsoB: d17Tu: goto mdC7G; d13PP: if (is_dir($path)) { goto d17Tu; } goto bGwWg; mdC7G: return is_dir($path); goto TI5CM; bGwWg: local_mkdirs(dirname($path)); goto k8gwx; TI5CM: } goto zktEk; zf0_x: BLhSO: goto xHlsp; nLwuW: q38fv: goto REuLo; qkj3S: function we7_network_enable($host) { goto o2jJJ; Fl0t8: $if_local_network172 = preg_match("\57\x5e\61\67\62\x5c\56\50\61\x5b\x36\55\71\135\x7c\x32\133\x30\x2d\71\135\x7c\63\133\60\x2d\x31\x5d\51\134\56\x28\61\x5c\x64\x7b\62\175\x7c\x32\x5b\60\55\x34\135\x5c\144\174\62\x35\x5b\x30\55\x35\x5d\174\133\61\x2d\x39\135\x5c\x64\x7c\134\144\x29\x5c\56\50\x31\x5c\144\x7b\62\x7d\x7c\62\133\x30\x2d\x34\x5d\x5c\144\x7c\x32\x35\x5b\60\55\x35\135\x7c\x5b\x31\x2d\x39\x5d\x5c\144\x7c\x5c\x64\51\44\57", $host); goto O9_Ph; HBSvg: lWmHy: goto cTLsW; iNQFZ: if ($httphost_is_ip) { goto gg24U; } goto ox1mZ; Bts1S: return false; goto QuXzm; BnzZw: $httphost_is_ip = preg_match("\57\136\50\61\134\144\173\62\175\174\x32\133\x30\55\x34\135\134\x64\174\x32\x35\133\60\x2d\65\135\174\x5b\x31\55\71\135\134\x64\174\133\61\x2d\x39\x5d\x29\x5c\56\50\61\134\x64\173\x32\175\174\x32\x5b\60\55\x34\135\x5c\x64\x7c\x32\x35\133\60\x2d\x35\135\x7c\x5b\x31\55\x39\135\134\x64\x7c\x5c\x64\51\x5c\56\x28\61\x5c\144\x7b\x32\175\x7c\x32\x5b\60\x2d\x34\x5d\134\x64\x7c\62\x35\x5b\60\55\65\135\x7c\x5b\x31\55\x39\x5d\x5c\x64\x7c\134\x64\x29\134\x2e\x28\x31\x5c\144\x7b\x32\175\174\x32\133\60\55\x34\x5d\x5c\144\174\62\x35\x5b\60\55\x35\x5d\174\133\61\55\x39\x5d\x5c\144\174\x5c\144\x29\44\x2f", $host); goto iNQFZ; cTLsW: goto C2CsU; goto vXrFu; O9_Ph: if (!$if_local_network172) { goto a4apk; } goto tMDx_; QuXzm: InMfk: goto BnzZw; Jr3d_: if (!$if_local_network192) { goto AO2yq; } goto n2fBn; n2fBn: return false; goto Diw3C; u0RfX: return false; goto HBSvg; t_y39: if (!(empty($dns_record) || empty($dns_record[0]["\x69\160"]) || $dns[0]["\151\160"] == "\61\x32\67\x2e\60\x2e\x30\56\x31")) { goto lWmHy; } goto u0RfX; tMDx_: return false; goto I3iSb; I3iSb: a4apk: goto LqWAj; Bnnwu: return false; goto jT0RI; Diw3C: AO2yq: goto P12oG; o2jJJ: if (!empty($host)) { goto InMfk; } goto Bts1S; ox1mZ: $dns_record = dns_get_record($host, DNS_A); goto t_y39; LqWAj: $if_local_network192 = preg_match("\57\136\x31\x39\62\x5c\x2e\61\x36\x38\134\x2e\x28\x31\134\x64\x7b\62\x7d\174\x32\x5b\x30\x2d\x34\135\134\144\174\62\65\x5b\60\55\65\135\174\133\61\55\x39\135\x5c\144\x7c\134\x64\51\x5c\56\x28\x31\134\x64\x7b\x32\x7d\174\62\133\x30\55\64\135\134\144\174\62\65\133\x30\x2d\x35\135\x7c\x5b\x31\55\x39\135\x5c\x64\174\x5c\x64\51\x24\57", $host); goto Jr3d_; YWhl5: $if_local_network10 = preg_match("\x2f\x5e\61\60\134\x2e\50\x31\x5c\x64\x7b\62\175\x7c\62\x5b\60\55\x34\135\134\144\174\x32\65\x5b\x30\x2d\65\135\x7c\x5b\61\55\x39\x5d\x5c\144\x7c\134\144\x29\134\x2e\x28\61\134\144\x7b\x32\175\174\x32\x5b\x30\55\64\x5d\134\x64\174\x32\65\x5b\60\55\65\135\x7c\133\x31\x2d\x39\x5d\x5c\144\174\x5c\144\x29\134\56\x28\61\x5c\144\173\62\x7d\x7c\62\x5b\x30\55\64\135\134\144\174\62\x35\x5b\x30\x2d\x35\135\x7c\133\x31\x2d\x39\135\134\x64\174\134\x64\51\x24\x2f", $host); goto Dm_VF; Dm_VF: if (!$if_local_network10) { goto Kz7EK; } goto Bnnwu; RC9sb: return true; goto Jrmjk; P12oG: C2CsU: goto RC9sb; jT0RI: Kz7EK: goto Fl0t8; vXrFu: gg24U: goto YWhl5; Jrmjk: } goto FC51_; CEcEU: exit(we7_error(421, "\345\xae\211\350\243\205\xe5\214\x85\xe4\xb8\x8d\345\xae\x8c\xe6\225\xb4\x2e")); goto ei1bv; k_YIU: if (!($action == "\144\x6f\x77\x6e\154\157\x61\x64")) { goto d4Xj3; } goto LJZMS; Og0dm: if (!($registered_site == 1)) { goto MfFCm; } goto d_q1r; wlWPY: Jv2ZU: goto BZwI3; cygQE: DvsIH: goto PqzTJ; UVFmO: we7_finish(); goto tCq0M; gKlQl: exit(we7_error(420, $database_result)); goto zf0_x; tPikr: goto LNg8B; goto xp_yV; QZ2QJ: if (empty($code)) { goto R1_Jj; } goto vb8NZ; f2qph: uhLJs: goto Zc2oO; u4Fwu: exit(we7_error(400, $chunk_num)); goto bG0kX; REuLo: YOHSl: goto GqMgj; ei1bv: UvVKb: goto jx9Vn; cilXT: $ret["\x72\x6f\157\164"]["\x6e\141\155\145"] = "\xe6\x9c\254\345\x9c\260\347\233\256\xe5\275\225\345\x86\x99\345\205\xa5"; goto ocUCP; pb_hc: $cdn_source_file = "\150\164\164\x70\x73\x3a\x2f\x2f\143\144\x6e\56\167\67\x2e\x63\143\x2f\144\x6f\x77\156\154\157\x61\144\57\151\x6e\x73\x74\x61\154\x6c\56\x7a\x69\160\77\x76\x3d" . time(); goto NO8tU; lez9c: define("\101\120\x49\x5f\x48\117\123\x54", "\x68\x74\164\x70\72\57\x2f\x61\x70\x69\56\x77\x37\56\x63\143"); goto Rx9jU; BzHho: if (!($action == "\154\157\147\x69\x6e")) { goto S4TN0; } goto TcioA; tFd6o: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\141\57\151\156\x73\164\x61\x6c\154\x2e\x6c\157\x63\x6b") && !in_array($action, array("\157\x61\165\x74\x68", "\154\157\x67\x69\156")))) { goto Mrmuh; } goto kH5TM; pqj9L: GrEwc: goto ecRvL; FK9aY: function we7_getcookie($key) { goto gLAn3; fK6D6: $key = COOKIE_PRE . $key; goto wjSRw; FSxgV: return ''; goto aaoC4; aaoC4: crjL7: goto fK6D6; gLAn3: if (!empty($key)) { goto crjL7; } goto FSxgV; wjSRw: return $_COOKIE[$key]; goto Ec2vB; Ec2vB: }