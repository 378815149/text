!function(H,e){"use strict";var t,P={selector:"select",mobileFix:!0,mask:"%",maskJoin:", ",ctrlKey:!1,search:!1,defaultText:"Select item...",classes:{outer:"style-select",title:"style-select-title",options:"style-select-options",label:"style-select-label",searchOuter:"style-select-search-outer",search:"style-select-search",optgroup:"style-select-optgroup",list:"style-select-list",item:"style-select-option",open:"st_open",selected:"st_selected",disabled:"st_disabled",mobile:"is_mobile",multiple:"is_multiple"},attributes:{index:"data-index",value:"data-value",selectReady:"data-tastyselect"}},K=(t={Android:function(){return!!navigator.userAgent.match(/Android/i)&&"android"},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)&&"blackberry"},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&"ios"},Opera:function(){return!!navigator.userAgent.match(/Opera Mini/i)&&"operamini"},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)&&"ie"},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}},t).any();function F(e,t){var l=document.createElement(e);return t&&J(l,t),l}function J(e,t){e.classList.add(t)}function R(e,t){e.classList.remove(t)}function n(e,t){Array.prototype.slice.call(e).forEach(t)}H.tastySelect=function(t){var l;n(document.querySelectorAll(t&&t.selector||P.selector),function(e){!function(e,t){if(null===e.getAttribute("data-tastyselect")){var p,h,u;p=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},P,t),e.getAttribute("placeholder")&&(p.defaultText=e.getAttribute("placeholder")),h=p.classes,u=p.attributes;var l,n,r,c,a,d,f,m,o,i,y,s,v,g,b,S,A,E,q,x,L,C,k,M,O=(l=e,n=F("div",h.outer),r=F("div",h.title),c=F("div",h.options),a=F("li",h.label),d=F("ul",h.optgroup),f=F("ul",h.list),m=F("li",h.item),o=F("div",h.searchOuter),i=F("input",h.search),y=l.options,K&&J(n,h.mobile),l.multiple&&J(n,h.multiple),l.disabled&&J(n,h.disabled),p.search&&(o.appendChild(i),c.appendChild(o)),n.appendChild(r),n.appendChild(c),function(){for(var e,t=null,l=null,n=f.cloneNode(!0),r=0,o=y.length;r<o;r++){var i=m.cloneNode(!0),s=y[r];l=s.parentNode.getAttribute("label"),t!=l&&(n&&c.appendChild(n),null==l?n=f.cloneNode(!0):(n=d.cloneNode(!0),(e=a.cloneNode(!0)).innerHTML=l,n.appendChild(e))),t=l,i.setAttribute(u.value,s.value),i.setAttribute(u.index,s.index),i.innerHTML=s.text,n.appendChild(i)}c.appendChild(n)}(),n);p.mobileFix&&(s=e,(v=F("optgroup")).disabled=!0,v.hidden=!0,s.insertBefore(v,s.firstChild)),C=O,k=(L=e).cloneNode(!0),M=L.parentNode,C.appendChild(k),M.insertBefore(C,L),M.removeChild(L),S=(g=O).querySelector(p.selector),A=g.querySelector("."+h.title),E=g.querySelector("."+h.options),q=g.querySelector("."+h.list).querySelectorAll("."+h.item),x=g.querySelector("."+h.search),S.setAttribute(u.selectReady,""),A.addEventListener("click",function(e){S.disabled||_(g)},!1),x&&x.addEventListener("input",function(e){b=N(S.options,e.target.value),T(q,b)}),S.addEventListener("change",function(e){w(g)},!1),E.addEventListener("click",function(e){var t,l=e.target.closest("."+h.item),n=e.target.closest("."+h.outer);l&&(t=n.querySelector(p.selector),p.ctrlKey&&t.multiple&&e.ctrlKey||t.multiple?B(l,!0):(B(l),_(l.closest("."+h.outer))))},!1),w(O)}function w(e){for(var t,l,n=e.querySelector(p.selector),r=e.querySelector("."+h.options),o=r.querySelectorAll("."+h.item),i=e.querySelector("."+h.title),s=n.options,c=[],a=p.defaultText,u=0,d=o.length;u<d;u++)l=s[u],t=o[u],l.selected?(J(t,h.selected),c.push(l.text)):R(t,h.selected);c.length&&(a=p.mask.replace("$",c.length).replace("%",c.join(p.maskJoin))),i.innerHTML=a}function B(e,t){var l=e.getAttribute(u.index),n=e.closest("."+h.outer),r=n.querySelector(p.selector),o=r.options,i=o[l];if(!t)for(var s=0,c=o.length;s<c;s++)o[s].selected=!1;if(i.selected=!i.selected,"createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent("change",!1,!0),r.dispatchEvent(a)}else r.fireEvent("onchange");i.dataset.url&&(H.location.href=i.dataset.url)}function N(e,t){var l=[];t=t.trim().toLowerCase();for(var n=0,r=e.length;n<r;n++)-1!==e[n].innerText.trim().toLowerCase().indexOf(t)?l.push(1):l.push(0);return l}function T(e,t){for(var l=0,n=e.length;l<n;l++)e[l].style.display=t[l]?"":"none"}function _(e){e.classList.toggle(h.open)}}(e,t)}),l=t&&t.classes&&t.classes.open||P.classes.open,document.body.addEventListener("click",function(e){var t=e.target.closest("."+l);n(document.querySelectorAll("."+l),function(e){t!==e&&R(e,l)})},!1)}}(window),function(e){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;e.matches=e.matchesSelector=t||function(e){var t=document.querySelectorAll(e),l=this;return Array.prototype.some.call(t,function(e){return e===l})}}(Element.prototype),function(e){e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);