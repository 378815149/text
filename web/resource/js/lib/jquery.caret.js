jQuery.fn.extend({selectContents:function(){$(this).each(function(e){var t,n,a,c,o=this;(a=o.ownerDocument)&&(c=a.defaultView)&&void 0!==c.getSelection&&void 0!==a.createRange&&(t=window.getSelection())&&void 0!==t.removeAllRanges?((n=a.createRange()).selectNode(o),0==e&&t.removeAllRanges(),t.addRange(n)):document.body&&void 0!==document.body.createTextRange&&(n=document.body.createTextRange())&&(n.moveToElementText(o),n.select())})},setCaret:function(){if(document.selection){var e=function(){$(this).get(0).caretPos=document.selection.createRange().duplicate()};$(this).click(e).select(e).keyup(e)}},insertAtCaret:function(e){var t=$(this).get(0);if(document.all&&t.createTextRange&&t.caretPos){var n=t.caretPos;n.text=""==n.text.charAt(n.text.length-1)?e+"":e}else if(t.setSelectionRange){var a=t.selectionStart,c=t.selectionEnd,o=t.value.substring(0,a),i=t.value.substring(c);t.value=o+e+i,t.focus();var l=e.length;t.setSelectionRange(a+l,a+l),t.blur()}else t.value+=e}});