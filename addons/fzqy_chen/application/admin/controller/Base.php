<?php
 namespace application\admin\controller; class Base { public $modulename; public $uniacid; public $__define; public $navemenu; public function __construct() { goto IJyVc; W2d0Q: $this->uniacid = intval($_W["\165\x6e\x69\x61\x63\x69\x64"]); goto n66wy; c7oFZ: C("\x6d\x6f\x64\165\x6c\145\x6e\141\x6d\145", $this->modulename); goto xoeYf; n66wy: $this->__define = IA_ROOT . "\x2f\x61\144\144\157\156\163\57" . $this->modulename; goto c7oFZ; IJyVc: global $_W, $_GPC; goto vqmie; vqmie: $this->modulename = trim($_GPC["\155"]); goto W2d0Q; xoeYf: } public function getMainMenu() { goto YVXFA; sMW4k: foreach ($menu as $v) { goto p51r1; p51r1: $_menuData = array("\x64\x6f" => $v["\143\x6f\x6e\164\x72\x6f\x6c\x6c\145\x72"], "\x74\151\164\x6c\x65" => $this->createMenuTitle($v["\164\x69\x74\154\x65"], $v["\x63\x6f\156\164\x72\x6f\154\x6c\145\162"], $v["\141\x63\164\151\x6f\156"], $v["\x69\143\x6f\156"]), "\151\x74\x65\x6d\x73" => array()); goto U4Y0V; sptX6: foreach ($v["\x69\164\x65\x6d\163"] as $item) { goto tpIwL; tpIwL: $_itemData = $this->createMainMenu($item["\x74\x69\x74\x6c\145"], $do . $act, $v["\143\157\x6e\164\x72\157\x6c\x6c\x65\162"], $item["\x61\143\x74\151\157\156"], ''); goto bzLab; bzLab: $_menuData["\x69\x74\x65\x6d\163"][] = $_itemData; goto bk2fh; bk2fh: RpuqM: goto h7_H3; h7_H3: } goto JZDnd; j0gwh: $navemenu[] = $_menuData; goto UJyRT; UJyRT: GvVVG: goto C5ysS; UOJ3u: pPfZJ: goto j0gwh; JZDnd: y4OPm: goto UOJ3u; U4Y0V: if (!$v["\x69\x74\x65\155\x73"]) { goto pPfZJ; } goto sptX6; C5ysS: } goto rY6BR; YVXFA: global $_GPC; goto s633Q; I4jVj: $act = $_GPC["\x61\143\164"] ? $_GPC["\x61\143\164"] : ''; goto sMW4k; rY6BR: EWOSS: goto PMZls; IL4l9: $navemenu = array(); goto sANbP; s633Q: $menu = (include APP_PATH . "\x2f\x61\144\x6d\x69\x6e\57\155\145\156\x75\x2e\160\x68\160"); goto IL4l9; sANbP: $do = $_GPC["\144\x6f"]; goto I4jVj; PMZls: return $navemenu; goto DWs0u; DWs0u: } public function getPageLimit($page, $size) { goto Wvg2w; KOCiP: return $firstRow . "\54" . $listRows; goto l_s_6; ftcZO: $listRows = $size; goto KOCiP; Wvg2w: $firstRow = ($page - 1) * $size; goto ftcZO; l_s_6: } function createMenuTitle($title, $do, $act, $icon = "\x66\141\x2d\x6c\x69\x6e\x65\55\x63\x68\x61\162\x74", $color = "\x63\157\154\157\162\72\x23\70\x64\70\x64\70\x64\73") { return "\x3c\x61\40\x68\x72\x65\x66\75\42" . $this->createWebUrl($do, array("\157\160" => "\x64\x69\163\160\x6c\141\x79", "\141\143\164" => $act)) . "\x22\40\143\154\141\x73\x73\x3d\42\x70\141\x6e\x65\154\55\164\x69\x74\x6c\145\x20\x77\x79\164\151\x74\x6c\145\42\x20\x69\144\x3d\42\171\146\x72\141\x6d\145\x2d" . $do . "\42\76\74\x69\x63\157\156\40\163\164\171\x6c\145\75\42" . $color . "\42\40\x63\x6c\141\163\x73\x3d\42\146\141\40" . $icon . "\42\x3e\x3c\57\x69\x63\157\x6e\x3e" . $title . "\74\x2f\141\x3e"; } function createMainMenu($title, $do, $method, $act, $icon = "\146\141\x2d\151\x6d\x61\147\x65", $color = '') { $color = "\x20\x73\164\171\x6c\x65\75\42\143\x6f\x6c\x6f\x72\72" . $color . "\73\42\40"; return array("\164\151\164\x6c\145" => $title, "\165\162\154" => $this->createWebUrl($method, array("\x6f\160" => "\x64\x69\x73\x70\x6c\141\171", "\x61\x63\164" => $act)), "\x61\143\164\151\x76\x65" => $do == $method . $act ? "\x20\141\143\164\151\x76\x65" : '', "\141\x70\160\x65\156\x64" => array("\x74\151\x74\154\145" => "\x3c\151\40" . $color . "\40\x63\154\x61\163\163\75\42\146\141\x20\x66\141\x2d\141\156\147\154\145\x2d\x72\x69\x67\150\x74\x22\76\x3c\57\151\76")); } protected function createWebUrl($do, $query = array()) { goto zJCW4; joD8F: return wurl("\163\x69\x74\145\57\x65\x6e\164\162\171", $query); goto KQ0m0; zJCW4: $query["\x64\157"] = $do; goto uLeSD; uLeSD: $query["\155"] = strtolower($this->modulename); goto joD8F; KQ0m0: } protected function createMobileUrl($do, $query = array()) { goto AzFTa; yNdKz: return murl("\x65\156\x74\x72\171", $query, true, true); goto KpLMN; JuF1L: $query["\155"] = strtolower($this->modulename); goto yNdKz; AzFTa: $query["\144\157"] = $do; goto JuF1L; KpLMN: } protected function template($filename) { goto gFLeS; v1nVC: upunp: goto qOHFU; xH1hy: v7y8l: goto saaq9; F9r7l: if (is_file($source)) { goto zSJiz; } goto MupSL; Th0re: if (is_file($source)) { goto Og3yS; } goto uuO6P; XOdQW: $source = IA_ROOT . "\x2f\x77\x65\142\x2f\164\x68\x65\x6d\x65\163\57\144\x65\x66\x61\x75\154\x74\57{$filename}\56\150\164\155\154"; goto XWZf2; saaq9: if (is_file($source)) { goto mIYdM; } goto XOdQW; kzh3D: zSJiz: goto pULhA; MupSL: exit("\105\x72\162\157\x72\72\40\164\145\x6d\x70\154\x61\x74\x65\x20\x73\x6f\165\162\143\x65\40\x27{$filename}\x27\40\x69\x73\x20\x6e\157\164\x20\145\x78\151\x73\x74\41"); goto kzh3D; MyAjI: $source = IA_ROOT . "\x2f\141\x70\x70\57\164\x68\145\155\x65\x73\57\x64\x65\146\x61\165\154\164\57\x63\157\x6d\155\x6f\156\57{$filename}\56\150\164\155\154"; goto Xuwdv; ON1zI: $name = strtolower($this->modulename); goto p7jYe; TazBl: if (in_array($filename, array("\x68\x65\141\x64\145\x72", "\146\x6f\157\x74\x65\x72", "\x73\x6c\x69\144\145", "\164\157\x6f\x6c\142\141\x72", "\155\x65\163\163\141\147\145"))) { goto MTnRL; } goto r1sZ0; p7jYe: $defineDir = $this->__define; goto lKCQu; N9ByX: Og3yS: goto Hq0ZM; Xuwdv: vpmzZ: goto v1nVC; icFHN: eLLWk: goto xJi26; WdGky: if (is_file($source)) { goto iQtCe; } goto iccDG; pULhA: $paths = pathinfo($compile); goto BxsO0; FZXRl: $compile = IA_ROOT . "\57\144\141\x74\x61\57\x74\160\x6c\57\167\x65\142\57{$_W["\x74\x65\155\x70\x6c\141\x74\145"]}\57{$name}\x2f{$filename}\x2e\164\160\154\56\160\x68\160"; goto WdGky; BrZGx: $source = IA_ROOT . "\x2f\167\145\x62\57\x74\150\145\x6d\x65\163\57{$_W["\x74\x65\155\x70\x6c\x61\164\145"]}\57{$name}\57{$filename}\x2e\150\164\x6d\154"; goto FZXRl; xJi26: return $compile; goto hMQfe; afo8F: $source = IA_ROOT . "\x2f\141\x70\x70\x2f\164\x68\145\155\145\x73\57{$_W["\164\x65\x6d\160\x6c\x61\x74\x65"]}\57{$filename}\x2e\x68\164\x6d\x6c"; goto Vdcxt; qCgfj: $source = IA_ROOT . "\x2f\x77\x65\142\x2f\x74\150\x65\x6d\145\163\57{$_W["\164\145\155\160\154\x61\164\145"]}\x2f{$filename}\x2e\150\x74\155\154"; goto xH1hy; iccDG: $source = IA_ROOT . "\x2f\167\x65\142\57\164\150\145\155\145\x73\x2f\144\x65\x66\141\165\154\x74\x2f{$name}\x2f{$filename}\56\x68\x74\x6d\x6c"; goto bpKBB; n7SoY: if (is_file($source)) { goto v7y8l; } goto qCgfj; MpZ_X: FRfv4: goto Th0re; FRj6n: if (is_file($source)) { goto FRfv4; } goto Z9lc6; Z08PO: I0Fgl: goto F9r7l; qOHFU: goto I0Fgl; goto hD5Nx; lKCQu: if (defined("\111\x4e\x5f\123\131\123")) { goto DNBIO; } goto kdtqT; i19U_: $source = $defineDir . "\57\164\145\155\x70\154\x61\164\x65\57{$filename}\56\x68\164\x6d\x6c"; goto z1fa5; Z9lc6: $source = IA_ROOT . "\x2f\x61\x70\x70\x2f\x74\150\x65\155\x65\x73\57\144\x65\x66\x61\165\154\x74\57{$name}\x2f{$filename}\56\x68\x74\x6d\154"; goto MpZ_X; BxsO0: $compile = str_replace($paths["\146\x69\x6c\145\156\141\155\145"], $_W["\165\156\x69\141\x63\151\144"] . "\x5f" . $paths["\146\151\x6c\x65\x6e\141\155\x65"], $compile); goto vpSrm; SGj4k: if (is_file($source)) { goto upunp; } goto TazBl; mhXSs: if (is_file($source)) { goto S7yhn; } goto i19U_; ERQNh: $compile = IA_ROOT . "\57\144\x61\x74\x61\x2f\164\x70\154\x2f\x61\x70\x70\x2f{$_W["\164\x65\155\160\154\141\x74\145"]}\57{$name}\57{$filename}\x2e\x74\x70\x6c\56\160\150\x70"; goto FRj6n; uuO6P: $source = $defineDir . "\57\x74\x65\x6d\x70\x6c\x61\164\145\x2f\x6d\x6f\142\x69\154\x65\x2f{$filename}\56\150\x74\155\154"; goto N9ByX; Hq0ZM: if (is_file($source)) { goto JtGzb; } goto afo8F; VNH9g: template_compile($source, $compile, true); goto icFHN; hD5Nx: DNBIO: goto BrZGx; HG4S1: goto vpmzZ; goto g8UU8; kdtqT: $source = IA_ROOT . "\57\141\160\x70\57\x74\150\145\155\x65\x73\57{$_W["\164\145\x6d\x70\x6c\x61\164\145"]}\57{$name}\x2f{$filename}\56\x68\x74\x6d\154"; goto ERQNh; gFLeS: global $_W; goto ON1zI; g8UU8: MTnRL: goto MyAjI; XWZf2: mIYdM: goto Z08PO; bpKBB: iQtCe: goto mhXSs; vpSrm: if (!(DEVELOPMENT || !is_file($compile) || filemtime($source) > filemtime($compile))) { goto eLLWk; } goto VNH9g; z1fa5: S7yhn: goto n7SoY; r1sZ0: $source = IA_ROOT . "\x2f\141\160\160\x2f\x74\x68\145\x6d\x65\163\x2f\144\145\146\141\x75\x6c\x74\57{$filename}\56\150\x74\x6d\x6c"; goto HG4S1; Vdcxt: JtGzb: goto SGj4k; hMQfe: } protected function get_list_nickname($list = array()) { goto u1uHL; xcAa0: y_4a1: goto gEwWt; roGQ2: if (!$_userData) { goto YA2r2; } goto PTIj3; VlBAS: lEhyG: goto ErK_g; jZpma: foreach ($_userData as $v) { $_nickanme[$v["\x75\163\x65\162\x5f\151\144"]] = $v["\x6e\151\x63\153\156\141\155\x65"]; EMaY9: } goto k64lk; lF10U: if (!$user_ids) { goto vUpHZ; } goto dCJXY; wWaw0: SG1q2: goto lF10U; vuoEn: vUpHZ: goto xcAa0; WYQQz: $user_ids = array(); goto VQ3Dj; dCJXY: $_userData = D("\165\163\x65\162")->where(array("\165\163\145\x72\x5f\x69\144" => array("\x49\116", $user_ids), "\165\x6e\x69\x61\x63\151\x64" => $_W["\165\x6e\151\141\x63\151\x64"]))->field("\165\x73\x65\x72\x5f\151\144\x2c\x6e\151\x63\x6b\156\141\155\x65")->select(); goto roGQ2; yeJh3: foreach ($list as $k => $v) { goto BI_7r; e8cbp: M97AW: goto ju5Cj; V15fr: m75oY: goto e8cbp; BI_7r: if (!(isset($_nickanme[$v["\165\163\x65\162\x5f\151\144"]]) && $_nickanme[$v["\165\x73\x65\162\137\151\x64"]])) { goto m75oY; } goto WBhQy; WBhQy: $list[$k]["\156\151\143\153\x6e\x61\x6d\145"] = $_nickanme[$v["\x75\163\145\162\x5f\x69\x64"]]; goto V15fr; ju5Cj: } goto VlBAS; zXwHK: if (!$list) { goto y_4a1; } goto WYQQz; u1uHL: global $_W; goto zXwHK; gEwWt: return $list; goto JvfJs; ErK_g: YA2r2: goto vuoEn; k64lk: UXBGO: goto yeJh3; VQ3Dj: foreach ($list as $k => $v) { goto lquTP; aojG4: a3PGl: goto C_yoo; VVinT: $user_ids[] = $v["\x75\163\x65\162\137\151\144"]; goto maODq; maODq: h4zyO: goto aojG4; lquTP: if (!(!empty($v["\165\163\145\162\x5f\151\144"]) && !in_array($v["\165\x73\x65\x72\x5f\151\x64"], $user_ids))) { goto h4zyO; } goto VVinT; C_yoo: } goto wWaw0; PTIj3: $_nickanme = array(); goto jZpma; JvfJs: } protected function get_info_nickname($info = array()) { goto lhHuK; lhHuK: global $_W; goto XLYbh; WPkdV: if (!$nickname) { goto UWOl6; } goto XE_Wf; XLYbh: if (!(isset($info["\x75\163\145\x72\x5f\x69\144"]) && $info["\x75\x73\145\x72\137\x69\144"])) { goto qVNM0; } goto YCLOf; j9LHH: UWOl6: goto pgHxJ; YCLOf: $nickname = D("\165\x73\145\162")->where(array("\x75\163\145\162\137\151\144" => $info["\x75\163\145\x72\x5f\x69\x64"], "\x75\156\151\x61\143\x69\144" => $_W["\165\156\151\x61\143\x69\144"]))->getField("\156\x69\143\153\156\x61\155\x65"); goto WPkdV; pgHxJ: qVNM0: goto TwJ8Y; XE_Wf: $info["\x6e\x69\143\x6b\x6e\x61\155\145"] = $nickname; goto j9LHH; TwJ8Y: return $info; goto mBym7; mBym7: } }