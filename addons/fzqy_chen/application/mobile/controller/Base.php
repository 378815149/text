<?php
 namespace application\mobile\controller; class Base { public $modulename; public $uniacid; public $__define; public function __construct() { goto NgUFF; TvGm0: $this->uniacid = intval($_W["\165\156\x69\141\x63\x69\144"]); goto Vnp2X; dA1m3: C("\155\x6f\144\165\154\x65\156\141\x6d\x65", $this->modulename); goto DkId1; xDMBB: $this->modulename = trim($_GPC["\x6d"]); goto TvGm0; Vnp2X: $this->__define = IA_ROOT . "\57\141\x64\x64\x6f\x6e\x73\57" . $this->modulename; goto dA1m3; DkId1: define("\115\117\x42\x49\x4c\x45\137\x50\x41\x54\110", "\56\x2e\57\x61\x64\x64\x6f\156\x73\x2f" . $this->modulename . "\57\x74\145\155\160\154\141\x74\145\x2f\155\157\142\x69\x6c\x65\x2f"); goto JZjxP; NgUFF: global $_W, $_GPC; goto xDMBB; JZjxP: } protected function template($filename) { goto QQU95; B0cpp: $source = IA_ROOT . "\x2f\167\x65\x62\57\x74\x68\x65\155\145\x73\57\x64\x65\146\x61\x75\x6c\164\x2f{$filename}\x2e\150\x74\x6d\154"; goto cpsK9; LX8du: DoZ0x: goto tj7u6; Al9vS: FBHqq: goto Tc2eQ; uCop1: if (is_file($source)) { goto UdiMB; } goto Srt5b; fdPZj: $source = IA_ROOT . "\57\141\x70\x70\x2f\164\x68\x65\x6d\145\x73\x2f\x64\145\146\x61\x75\x6c\x74\x2f{$filename}\x2e\x68\x74\x6d\154"; goto v9tHO; Tc2eQ: if (is_file($source)) { goto RCiEm; } goto mORyS; Syibn: $source = IA_ROOT . "\57\141\x70\x70\x2f\x74\x68\145\x6d\x65\x73\57\144\x65\146\141\x75\154\x74\x2f\143\x6f\155\155\157\x6e\57{$filename}\x2e\x68\164\x6d\x6c"; goto k_WR1; T1upj: if (!(DEVELOPMENT || !is_file($compile) || filemtime($source) > filemtime($compile))) { goto e8tej; } goto nq3v7; JgmPA: lCn07: goto uCop1; OQeQH: if (is_file($source)) { goto DoZ0x; } goto IxPMP; vcOKT: $defineDir = $this->__define; goto yRHMN; dWj9k: $source = IA_ROOT . "\57\x61\160\160\57\164\x68\145\x6d\145\163\x2f{$_W["\164\x65\x6d\160\154\141\164\x65"]}\57{$name}\x2f{$filename}\56\x68\164\x6d\x6c"; goto sIHJr; QQU95: global $_W; goto froHG; QiPh3: wKrim: goto NLmSn; omLYS: UdiMB: goto OQeQH; tj7u6: if (is_file($source)) { goto cXrbL; } goto WatIC; yRHMN: if (defined("\111\116\137\123\131\123")) { goto wKrim; } goto dWj9k; UgQnt: if (is_file($source)) { goto EBqlk; } goto T7m_E; gKJeR: if (is_file($source)) { goto uzwJE; } goto UQMQx; W752E: if (is_file($source)) { goto FBHqq; } goto D5gx1; D5gx1: $source = $defineDir . "\x2f\x74\145\x6d\x70\154\141\x74\x65\x2f{$filename}\x2e\150\164\155\154"; goto Al9vS; D0i3V: EBqlk: goto r1xuu; rklXi: uzwJE: goto W752E; WatIC: if (in_array($filename, array("\x68\x65\141\x64\145\x72", "\146\157\157\x74\x65\162", "\x73\x6c\151\144\x65", "\x74\x6f\157\x6c\x62\x61\x72", "\x6d\x65\163\x73\x61\147\145"))) { goto StyLZ; } goto fdPZj; IxPMP: $source = IA_ROOT . "\x2f\141\160\160\x2f\x74\x68\145\155\145\163\57{$_W["\x74\x65\155\x70\x6c\x61\x74\145"]}\x2f{$filename}\x2e\150\164\x6d\154"; goto LX8du; kEoUt: cXrbL: goto UcBU6; mORyS: $source = IA_ROOT . "\57\x77\x65\x62\x2f\164\150\145\x6d\x65\x73\57{$_W["\x74\145\155\160\154\141\164\x65"]}\x2f{$filename}\56\150\164\155\x6c"; goto LMgR3; RyZ1M: QKh0E: goto UgQnt; GXk2j: $compile = str_replace($paths["\146\x69\x6c\x65\x6e\141\155\145"], $_W["\x75\x6e\x69\x61\x63\x69\x64"] . "\137" . $paths["\x66\x69\x6c\145\156\x61\x6d\x65"], $compile); goto T1upj; cpsK9: FATIs: goto RyZ1M; rtDiK: if (is_file($source)) { goto lCn07; } goto YCwWB; froHG: $name = strtolower($this->modulename); goto vcOKT; ziVY8: $compile = IA_ROOT . "\x2f\x64\x61\164\x61\x2f\x74\x70\154\57\x77\145\142\x2f{$_W["\x74\145\155\160\x6c\x61\164\x65"]}\x2f{$name}\x2f{$filename}\x2e\164\160\x6c\56\x70\x68\x70"; goto gKJeR; nq3v7: template_compile($source, $compile, true); goto DPOgv; NLmSn: $source = IA_ROOT . "\x2f\167\x65\142\57\164\150\145\x6d\145\x73\57{$_W["\164\x65\x6d\x70\154\141\x74\x65"]}\57{$name}\57{$filename}\x2e\150\x74\155\x6c"; goto ziVY8; Srt5b: $source = $defineDir . "\57\164\145\x6d\160\x6c\141\164\145\x2f\x6d\157\142\151\x6c\145\57{$filename}\x2e\150\x74\155\154"; goto omLYS; pa6TQ: if (is_file($source)) { goto FATIs; } goto B0cpp; YCwWB: $source = IA_ROOT . "\x2f\x61\x70\x70\57\164\x68\x65\x6d\145\x73\x2f\x64\x65\146\x61\x75\x6c\164\x2f{$name}\57{$filename}\56\150\164\x6d\154"; goto JgmPA; dyXaZ: StyLZ: goto Syibn; T7m_E: exit("\x45\162\x72\157\x72\72\40\164\x65\x6d\x70\154\141\164\145\40\163\157\x75\x72\x63\145\x20\x27{$filename}\47\x20\151\163\x20\x6e\157\164\x20\x65\170\151\x73\x74\41"); goto D0i3V; LMgR3: RCiEm: goto pa6TQ; UcBU6: goto QKh0E; goto QiPh3; UQMQx: $source = IA_ROOT . "\57\167\145\142\57\164\x68\145\x6d\145\163\57\x64\x65\146\x61\x75\x6c\164\57{$name}\x2f{$filename}\x2e\x68\164\x6d\x6c"; goto rklXi; k_WR1: BsUFw: goto kEoUt; v9tHO: goto BsUFw; goto dyXaZ; Wc5GN: return $compile; goto TdYZk; r1xuu: $paths = pathinfo($compile); goto GXk2j; sIHJr: $compile = IA_ROOT . "\57\144\141\164\x61\x2f\x74\160\x6c\x2f\x61\160\160\x2f{$_W["\164\x65\155\160\154\141\164\x65"]}\57{$name}\57{$filename}\x2e\x74\160\154\x2e\160\x68\160"; goto rtDiK; DPOgv: e8tej: goto Wc5GN; TdYZk: } protected function createWebUrl($do, $query = array()) { goto Ekj2O; ctAvN: return murl("\145\x6e\x74\x72\171", $query, true, true); goto qNLFC; lWkt9: $query["\x6d"] = strtolower($this->modulename); goto ctAvN; Ekj2O: $query["\144\x6f"] = $do; goto lWkt9; qNLFC: } protected function ajaxReturn($data) { header("\103\157\x6e\x74\x65\x6e\x74\x2d\124\x79\160\x65\x3a\x61\x70\x70\x6c\x69\143\x61\164\x69\x6f\x6e\x2f\152\163\157\x6e\73\40\x63\x68\x61\162\163\x65\x74\x3d\165\164\146\x2d\70"); exit(json_encode($data)); } protected function getPageLimit($page, $size) { goto mDfND; IXKsv: $listRows = $size; goto Qavki; mDfND: $firstRow = ($page - 1) * $size; goto IXKsv; Qavki: return $firstRow . "\x2c" . $listRows; goto ERG0g; ERG0g: } protected function setToken($iss = '', $uid = 0) { goto j6UYf; rn3Rg: yrAv8: goto Tmp9P; YWUrp: return false; goto rn3Rg; MappJ: return self::encode($payload, $this->modulename . "\164\157\153\x65\x6e", "\x53\x48\x41\62\65\66"); goto W83bL; j6UYf: if (!empty($uid)) { goto yrAv8; } goto YWUrp; Tmp9P: $payload = array("\151\x73\x73" => $iss, "\x69\141\x74" => $_SERVER["\122\x45\121\125\x45\x53\124\137\124\x49\115\x45"], "\x65\170\160" => $_SERVER["\x52\x45\x51\125\x45\x53\x54\x5f\124\x49\x4d\x45"] + 7 * 86400, "\x75\x69\x64" => $uid); goto MappJ; W83bL: } protected function checkToken() { goto h99vi; KyuoG: $HTTP_AUTHORIZATION = $_SERVER["\110\124\x54\120\x5f\x41\x55\124\110\117\x52\111\132\101\x54\111\117\116"]; goto zeTR_; x6J2z: Q2nU5: goto nVltr; nVltr: return false; goto MsCyA; zeTR_: preg_match_all("\x2f\x28\77\x3a\x5c\173\x29\x28\x2e\x2a\51\x28\77\x3a\134\x7d\x29\57\x69", $HTTP_AUTHORIZATION, $result); goto tzEnD; tzEnD: $HTTP_AUTHORIZATION = $result[1][0]; goto MgKmI; h99vi: if (!isset($_SERVER["\110\x54\x54\x50\x5f\101\125\x54\x48\117\122\x49\132\x41\x54\111\117\116"])) { goto Q2nU5; } goto KyuoG; MgKmI: return self::decode($HTTP_AUTHORIZATION, $this->modulename . "\164\157\x6b\x65\156"); goto x6J2z; MsCyA: } protected static function encode($payload = array(), $key = '', $alg = "\123\110\101\62\x35\x36") { goto CQJYN; CQJYN: $key = md5($key); goto EnadN; Bb7IO: return $jwt . "\x2e" . self::signature($jwt, $key, $alg); goto gKl9I; EnadN: $jwt = self::urlsafeB64Encode(json_encode(["\164\171\160" => "\x4a\x57\124", "\x61\154\147" => $alg])) . "\56" . self::urlsafeB64Encode(json_encode($payload)); goto Bb7IO; gKl9I: } protected static function signature($input = '', $key = '', $alg = '') { return hash_hmac($alg, $input, $key); } protected static function decode($jwt = '', $key = '') { goto krYuy; aKq6K: return false; goto xdwaI; hzGku: $payload = json_decode(self::urlsafeB64Decode($payload64), JSON_OBJECT_AS_ARRAY); goto x4IiF; LrZoy: $key = md5($key); goto VqS3v; DY18F: return false; goto gZbbg; iR0c4: $header = json_decode(self::urlsafeB64Decode($header64), JSON_OBJECT_AS_ARRAY); goto bhfZE; gx291: return false; goto As_iH; As_iH: DbZyL: goto Ek5uZ; gZbbg: Udpeh: goto j_jzg; j_jzg: return $payload; goto XSyWk; B5T2k: if (!(isset($payload["\145\170\160"]) && $payload["\145\170\x70"] < $time)) { goto Udpeh; } goto DY18F; WNzms: if (!(isset($payload["\x69\141\164"]) && $payload["\x69\x61\164"] > $time)) { goto tMOjr; } goto aKq6K; JsgPm: return false; goto Tv13m; krYuy: $tokens = explode("\x2e", $jwt); goto LrZoy; Tv13m: AJAnN: goto wyvDg; NLPuo: return false; goto Q4IHO; wyvDg: if (!(self::signature($header64 . "\x2e" . $payload64, $key, $header["\x61\x6c\147"]) !== $sign)) { goto evbEY; } goto NLPuo; xdwaI: tMOjr: goto B5T2k; bhfZE: if (!empty($header["\141\x6c\147"])) { goto AJAnN; } goto JsgPm; VqS3v: if (!(count($tokens) != 3)) { goto DbZyL; } goto gx291; Ek5uZ: list($header64, $payload64, $sign) = $tokens; goto iR0c4; x4IiF: $time = $_SERVER["\122\x45\x51\x55\105\123\x54\137\124\x49\115\x45"]; goto WNzms; Q4IHO: evbEY: goto hzGku; XSyWk: } protected static function urlsafeB64Decode($string) { goto VarkO; Ma_Yb: return base64_decode($data); goto LMynJ; LxgG9: $mod4 = strlen($data) % 4; goto FDZaY; FDZaY: if (!$mod4) { goto gI0b8; } goto doihZ; doihZ: $data .= substr("\x3d\75\75\x3d", $mod4); goto QnyVL; VarkO: $data = str_replace(array("\55", "\x5f"), array("\x2b", "\57"), $string); goto LxgG9; QnyVL: gI0b8: goto Ma_Yb; LMynJ: } protected static function urlsafeB64Encode($string) { goto iGQje; hp2zz: return $data; goto qjgRz; iGQje: $data = base64_encode($string); goto qJciN; qJciN: $data = str_replace(array("\x2b", "\x2f", "\75"), array("\55", "\137", ''), $data); goto hp2zz; qjgRz: } protected function autoCharset($fContents, $from = "\147\142\153", $to = "\x75\164\x66\55\x38") { goto FKnJS; gDsD4: ESpZL: goto uENsK; l2yCi: return iconv($from, $to, $fContents); goto gDsD4; ZCYfm: if (!(strtoupper($from) === strtoupper($to) || empty($fContents) || is_scalar($fContents) && !is_string($fContents))) { goto mbvv4; } goto dwsOp; hXpan: $to = strtoupper($to) == "\x55\124\106\70" ? "\x75\164\146\55\70" : $to; goto ZCYfm; obVr4: zFOFr: goto l2yCi; fwBpr: if (function_exists("\151\x63\157\156\166")) { goto zFOFr; } goto vYeRx; bEV8B: goto ESpZL; goto qrqsU; qrqsU: vZaKg: goto FtE2g; BLzGw: if (function_exists("\155\142\137\143\x6f\156\x76\x65\x72\164\x5f\x65\156\143\x6f\x64\151\x6e\x67")) { goto vZaKg; } goto fwBpr; dwsOp: return $fContents; goto jdtUw; jdtUw: mbvv4: goto BLzGw; FtE2g: return mb_convert_encoding($fContents, $to, $from); goto Zv6Yf; FKnJS: $from = strtoupper($from) == "\x55\124\106\x38" ? "\x75\x74\x66\55\x38" : $from; goto hXpan; Zv6Yf: goto ESpZL; goto obVr4; vYeRx: return $fContents; goto bEV8B; uENsK: } }