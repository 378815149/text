<?php
 namespace application\mobile\controller; use application\admin\model\config; class index extends Base { public function index() { goto CBfR5; kEDUA: $point["\x70\x6f\151\x6e\x74\x5f\x6c\x6f\147\x6f\137\x31"] = config("\x70\x6f\x69\156\x74\137\154\157\147\x6f\x5f\x31") ? toimage(config("\x70\157\x69\x6e\164\137\154\x6f\147\157\x5f\61")) : MOBILE_PATH . "\151\x6d\x61\x67\145\x73\57\x69\143\60\x31\56\x70\156\147"; goto CZsuR; bk9Qs: $menu = "\151\x6e\x64\145\x78"; goto EJWk4; d9uxQ: $where = array("\x73\164\x61\164\x75\x73" => 1, "\x69\x73\137\162\145\x63\x6f\x6d\155\x65\156\x64" => 1, "\165\156\x69\141\x63\151\x64" => $_W["\x75\x6e\x69\x61\143\x69\x64"]); goto r32wp; wu91O: $news_logo = config("\x6e\x65\x77\163\x5f\154\x6f\147\157") ? toimage(config("\156\145\x77\x73\x5f\x6c\x6f\147\x6f")) : MOBILE_PATH . "\151\x6d\141\147\145\163\x2f\x69\x63\157\156\60\63\56\x70\x6e\x67"; goto ei5Du; CZsuR: $point["\160\x6f\151\x6e\x74\x5f\62"] = config("\x70\x6f\x69\156\164\137\62") ? config("\x70\157\x69\156\164\137\62") : "\xe4\xba\xb2\350\x82\244\xe8\xb4\xb4\xe8\xba\253"; goto WInA5; ivQD1: $point["\x70\157\151\156\164\x5f\154\157\147\x6f\x5f\x34"] = config("\x70\x6f\x69\156\164\137\x6c\x6f\x67\x6f\137\64") ? toimage(config("\x70\x6f\151\156\x74\137\x6c\157\x67\x6f\x5f\64")) : MOBILE_PATH . "\151\x6d\x61\x67\x65\163\x2f\151\x63\60\x34\x2e\x70\x6e\x67"; goto Qya81; utXJC: $point["\160\157\151\x6e\164\x5f\64"] = config("\160\x6f\151\156\x74\x5f\x34") ? config("\160\x6f\151\x6e\x74\137\x34") : "\350\xb6\205\xe9\xab\x98\346\x80\247\xe4\xbb\xb7\xe6\xaf\224"; goto ivQD1; EJWk4: include $this->template("\x69\x6e\x64\145\x78"); goto IStOx; WInA5: $point["\x70\157\x69\x6e\x74\137\x6c\x6f\x67\157\x5f\x32"] = config("\x70\x6f\x69\x6e\164\137\x6c\x6f\x67\x6f\x5f\62") ? toimage(config("\x70\157\x69\156\164\x5f\x6c\x6f\x67\157\137\62")) : MOBILE_PATH . "\x69\x6d\141\147\x65\163\57\x69\143\60\x32\x2e\160\156\x67"; goto ZtF04; EZjVJ: $point = array(); goto ISj_j; WTbkY: $newslist = D("\141\x72\164\x69\x63\154\145")->field("\x61\x72\164\x69\143\x6c\x65\137\151\x64\x2c\144\x65\x73\143\x2c\164\151\164\x6c\145\x2c\151\x6d\141\147\x65")->where($where)->order("\154\151\x73\x74\157\x72\144\145\x72\x20\x61\163\x63\54\141\162\164\x69\143\x6c\145\137\151\144\x20\x64\145\163\x63")->limit(0, 10)->select(); goto bk9Qs; CBfR5: global $_W, $_GPC; goto wYO8b; H07TP: $about_logo = config("\141\142\x6f\165\164\x5f\154\157\147\x6f") ? toimage(config("\141\x62\x6f\x75\164\x5f\154\157\147\157")) : MOBILE_PATH . "\x69\x6d\141\x67\x65\163\x2f\x69\x63\157\x6e\x30\62\x2e\160\x6e\x67"; goto wu91O; AvoHT: $adlist = M("\x61\144")->where($where)->select(); goto hQbZW; wYO8b: $where = array("\163\x74\x61\x74\165\x73" => 1, "\165\156\151\141\143\151\144" => $_W["\x75\x6e\x69\x61\x63\x69\x64"]); goto AvoHT; r32wp: $goodslist = D("\x67\157\157\144\163")->field("\x67\x6f\157\144\x73\137\151\144\54\164\151\x74\154\145\x2c\151\155\x61\x67\145")->where($where)->order("\x6c\151\163\164\x6f\x72\144\x65\162\40\141\163\143\x2c\147\x6f\157\x64\x73\137\151\x64\40\x64\145\163\x63")->limit(0, 10)->select(); goto bopwv; daWjo: $point["\160\x6f\151\x6e\x74\x5f\154\157\x67\157\137\x35"] = config("\160\157\151\x6e\x74\x5f\x6c\157\x67\157\137\x35") ? toimage(config("\x70\157\x69\x6e\x74\137\154\157\147\x6f\x5f\65")) : MOBILE_PATH . "\151\x6d\x61\147\145\163\57\x69\x63\60\x35\56\160\156\x67"; goto k6Ph8; Qya81: $point["\x70\x6f\151\x6e\164\137\x35"] = config("\x70\x6f\151\156\x74\x5f\65") ? config("\160\157\x69\156\x74\137\x35") : "\344\xb8\215\347\274\251\xe6\260\264\344\xb8\215\350\xa4\xaa\xe8\211\xb2"; goto daWjo; k6Ph8: $point["\x70\157\x69\x6e\x74\x5f\x36"] = config("\x70\157\151\x6e\164\137\66") ? config("\160\157\151\156\x74\137\66") : "\xe5\x94\xae\xe5\x90\216\xe6\x9c\211\344\277\235\xe9\x9a\234"; goto s_6Os; s_6Os: $point["\x70\x6f\151\x6e\x74\x5f\x6c\157\x67\x6f\137\x36"] = config("\160\x6f\151\156\x74\137\x6c\x6f\147\157\137\x36") ? toimage(config("\160\x6f\x69\156\164\137\154\x6f\x67\157\x5f\x36")) : MOBILE_PATH . "\x69\155\141\x67\145\x73\57\x69\x63\x30\x36\x2e\160\156\147"; goto d9uxQ; ISj_j: $point["\x70\x6f\151\x6e\164\x5f\x31"] = config("\160\157\151\x6e\x74\x5f\x31") ? config("\160\157\x69\x6e\x74\137\x31") : "\xe5\201\xa5\345\272\267\xe8\210\222\351\x80\202"; goto kEDUA; nsx7l: $copyright = config("\143\157\160\x79\162\x69\147\150\164"); goto EZjVJ; bopwv: $where = array("\x73\164\x61\x74\x75\163" => 1, "\165\x6e\151\x61\x63\x69\x64" => $_W["\165\x6e\151\x61\143\151\x64"]); goto WTbkY; ei5Du: $contact_logo = config("\x63\x6f\156\164\141\143\x74\137\154\x6f\x67\157") ? toimage(config("\x63\x6f\x6e\x74\x61\143\x74\x5f\x6c\x6f\147\x6f")) : MOBILE_PATH . "\x69\x6d\141\x67\x65\163\57\151\x63\157\156\x30\64\56\x70\156\147"; goto nsx7l; ZtF04: $point["\x70\x6f\x69\156\164\137\x33"] = config("\160\x6f\151\156\164\137\63") ? config("\x70\157\x69\x6e\164\137\63") : "\346\237\224\xe8\275\257\xe8\x88\x92\347\x88\275\346\204\x9f"; goto xSZrl; hQbZW: $products_logo = config("\160\162\157\144\165\x63\x74\x73\137\154\157\147\157") ? toimage(config("\160\162\x6f\x64\165\x63\164\x73\137\154\x6f\x67\157")) : MOBILE_PATH . "\x69\x6d\141\147\x65\163\x2f\x69\143\x6f\156\x30\61\56\x70\x6e\147"; goto H07TP; xSZrl: $point["\x70\157\151\156\164\137\154\x6f\x67\x6f\137\63"] = config("\x70\x6f\151\x6e\164\137\x6c\x6f\147\157\137\63") ? toimage(config("\160\157\151\156\164\137\154\x6f\147\157\x5f\x33")) : MOBILE_PATH . "\x69\x6d\141\x67\x65\x73\57\x69\143\60\x33\x2e\160\156\147"; goto utXJC; IStOx: } public function products() { goto WfQRn; jBVAC: x9Woo: goto RxdfZ; hR5Wz: $limit = $this->getPageLimit($page, $size); goto ZRzAp; ZRzAp: $list = $goodsMod->loadList($where, "\147\x6f\157\144\x73\x5f\x69\x64\x2c\x74\151\164\x6c\x65\54\151\x6d\141\147\145", $limit, "\x6c\x69\163\164\157\x72\144\x65\x72\x20\141\x73\143\x2c\x61\144\x64\164\x69\155\x65\x20\144\x65\x73\x63"); goto W72DV; ZSuKd: $where = array("\x73\x74\141\164\165\x73" => 1, "\165\156\151\141\143\151\x64" => $_W["\165\156\151\141\x63\x69\144"]); goto mKf5y; KcYuw: VzSpS: goto PVLI8; eDx85: if (!$list) { goto x9Woo; } goto cUARC; RxdfZ: exit; goto KcYuw; WfQRn: global $_W, $_GPC; goto ZSuKd; PVLI8: $menu = "\160\x72\157\144\165\x63\x74\163"; goto SMlQP; mKf5y: $goodsMod = D("\147\157\x6f\x64\x73"); goto IpaVK; cUARC: include $this->template("\141\152\141\170\x5f\160\162\x6f\x64\165\143\164\x73"); goto jBVAC; SnoLS: $size = intval($_GPC["\x70\x73\151\172\x65"]) ? intval($_GPC["\x70\x73\x69\x7a\x65"]) : 10; goto hR5Wz; SMlQP: include $this->template("\160\x72\x6f\144\x75\x63\x74\163"); goto ZM6VX; W72DV: if (!$_W["\151\x73\141\152\x61\170"]) { goto VzSpS; } goto eDx85; IpaVK: $page = max(1, intval($_GPC["\160\x61\147\145"])); goto SnoLS; ZM6VX: } public function prodel() { goto pyoEN; pyoEN: global $_W, $_GPC; goto JwpPj; ilyCp: $info["\x67\x6f\157\x64\x73\x5f\x69\155\141\147\x65\163"][0] = $info["\x69\155\x61\147\145"]; goto NNlxW; iRIz_: if ($info["\147\157\x6f\x64\x73\137\x69\155\141\x67\145\x73"]) { goto lBWZa; } goto ilyCp; NpJty: lBWZa: goto hHeub; dxVkS: DhWa2: goto IOo6e; yHyZH: ryptg: goto UbOjr; Gjjnz: $menu = "\160\162\x6f\x64\165\143\164\x73"; goto kU1Ua; YbE_o: message("\345\217\202\xe6\225\xb0\xe9\x94\x99\xe8\257\257", '', "\x65\162\x72\x6f\x72"); goto yHyZH; IOo6e: $where = array("\x67\157\157\144\x73\137\x69\x64" => array("\154\x74", $goods_id), "\x75\x6e\x69\x61\143\151\144" => $_W["\x75\x6e\151\x61\143\x69\x64"]); goto VBXbE; JwpPj: if ($goods_id = intval($_GPC["\147\157\157\x64\x73\x5f\151\144"])) { goto ryptg; } goto YbE_o; VPuFE: yUyg6: goto iRIz_; tU0BR: $info["\x64\x65\x73\143"] = htmlspecialchars_decode($info["\x64\145\163\x63"]); goto VPuFE; UbOjr: $info = D("\147\157\157\x64\x73")->getWhereInfo(array("\147\x6f\x6f\x64\x73\137\151\x64" => $goods_id, "\x75\x6e\151\x61\143\x69\144" => $_W["\165\156\151\141\143\151\x64"])); goto ITX4q; kU1Ua: include $this->template("\160\x72\157\x64\145\x6c"); goto wyOvU; ITX4q: if (!$info["\144\x65\163\x63"]) { goto yUyg6; } goto tU0BR; hHeub: $info["\x67\157\157\144\163\137\151\x6d\141\x67\x65\163"] = unserialize($info["\x67\x6f\157\144\163\x5f\151\x6d\141\147\145\x73"]); goto dxVkS; VBXbE: $otherList = D("\147\157\157\144\x73")->where($where)->limit(3)->select(); goto Gjjnz; NNlxW: goto DhWa2; goto NpJty; wyOvU: } public function about() { goto T09nq; Njf4A: $menu = "\141\142\x6f\165\x74"; goto Qr4aj; Qr4aj: include $this->template("\141\x62\157\x75\164"); goto sX2O_; PcM70: $about_banner = config("\141\x62\x6f\x75\x74\137\x62\141\156\x6e\145\162"); goto Njf4A; T09nq: global $_W, $_GPC; goto PcM70; sX2O_: } public function news() { goto mS0hw; xZNSu: $where = array("\x73\164\x61\x74\x75\x73" => 1, "\165\x6e\x69\141\143\151\x64" => $_W["\165\156\x69\141\x63\x69\144"]); goto YKaqe; p7Pfs: $menu = "\x6e\145\x77\x73"; goto tQWmO; QGxi_: if (!$list) { goto dTIqn; } goto zXhZm; tQWmO: include $this->template("\x6e\145\x77\x73"); goto t_SBa; YKaqe: $articleMod = D("\x61\x72\x74\151\x63\154\145"); goto vmWI3; ENNZU: $limit = $this->getPageLimit($page, $size); goto lQbOs; lQbOs: $list = $articleMod->loadList($where, "\x61\162\x74\151\143\x6c\x65\x5f\x69\144\x2c\x74\x69\164\x6c\x65\x2c\x61\144\x64\x74\x69\155\x65", $limit, "\x6c\x69\163\x74\157\x72\144\x65\162\40\x61\x73\x63\54\x61\x64\144\x74\151\155\x65\40\x64\x65\x73\x63"); goto J2_Ct; ntsRQ: dTIqn: goto UnR41; vmWI3: $page = max(1, intval($_GPC["\160\x61\x67\145"])); goto KR93T; UnR41: exit; goto tnoex; J2_Ct: if (!$_W["\x69\x73\x61\152\141\170"]) { goto IN2a5; } goto QGxi_; mS0hw: global $_W, $_GPC; goto xZNSu; KR93T: $size = intval($_GPC["\160\x73\151\x7a\145"]) ? intval($_GPC["\x70\x73\151\172\145"]) : 10; goto ENNZU; zXhZm: include $this->template("\x61\152\x61\170\x5f\x6e\x65\167\x73"); goto ntsRQ; tnoex: IN2a5: goto p7Pfs; t_SBa: } public function newdel() { goto M7mEm; Hlxq5: if (!$info["\143\157\156\164\145\156\x74"]) { goto OwG6P; } goto XX3ZG; FF97o: include $this->template("\156\145\167\x64\145\x6c"); goto lFpHS; XX3ZG: $info["\143\157\156\x74\x65\156\164"] = htmlspecialchars_decode($info["\x63\x6f\x6e\164\145\x6e\x74"]); goto MZCPf; M7mEm: global $_W, $_GPC; goto kfwQo; kfwQo: if ($article_id = intval($_GPC["\141\162\164\151\143\x6c\x65\x5f\151\144"])) { goto GNqLs; } goto Eb__s; ZqM2C: $menu = "\156\x65\x77\x73"; goto FF97o; Eb__s: message("\xe5\217\x82\xe6\225\260\351\x94\x99\xe8\257\xaf", '', "\x65\x72\162\x6f\x72"); goto jrglk; jrglk: GNqLs: goto wVFpH; wVFpH: $info = D("\141\162\x74\x69\x63\x6c\145")->getWhereInfo(array("\141\x72\164\x69\143\x6c\x65\x5f\151\x64" => $article_id, "\x75\156\151\141\x63\x69\x64" => $_W["\x75\156\x69\141\x63\151\144"])); goto Hlxq5; MZCPf: OwG6P: goto ZqM2C; lFpHS: } public function contact() { goto LgYRI; LgYRI: global $_W, $_GPC; goto TPPhH; TPPhH: $contact_banner = config("\143\x6f\x6e\x74\141\143\164\x5f\142\141\156\156\145\x72"); goto sPdm2; Q6mww: include $this->template("\x63\x6f\x6e\164\x61\143\164"); goto CNEmH; sPdm2: $copyright = config("\143\x6f\x70\x79\162\151\147\x68\x74"); goto BRi33; BRi33: $menu = "\x63\157\156\164\141\143\x74"; goto Q6mww; CNEmH: } public function login() { goto nywss; vN3rx: $this->ajaxReturn(array("\x73\x74\x61\164\x75\x73" => 1, "\x6d\163\147" => "\346\210\220\xe5\212\237", "\164\157\x6b\x65\156" => $this->setToken($info["\x6e\x69\143\153\x6e\141\155\x65"], $info["\x75\163\x65\x72\137\x69\x64"]), "\x64\141\164\141" => $info)); goto h27Dx; dJOlS: if (!$info) { goto taACY; } goto vN3rx; FTvUm: $result = $result["\143\157\x6e\164\145\156\164"]; goto UzB5_; lw7QA: tK_dJ: goto RYSw6; Px6Bv: $result = json_decode($result, true); goto fuLOW; h27Dx: taACY: goto zwFmw; nywss: $code = I("\160\157\163\164\56\143\157\x64\x65"); goto eodgk; TZuS5: $this->ajaxReturn(array("\x73\164\x61\x74\165\163" => 0, "\155\163\x67" => "\xe6\xb3\xa8\xe5\x86\x8c\xe5\xa4\261\xe8\264\245", "\144\141\x74\x61" => '')); goto GfCuI; fQ9Fn: $info = $user->getUserInfo(array("\165\x73\x65\x72\x5f\151\x64" => $id, "\165\x6e\x69\x61\x63\x69\x64" => $this->uniacid)); goto dJOlS; Q2Va1: if (empty($info)) { goto F8jmp; } goto a7x_M; RYSw6: vRyvk: goto EXV66; kbQgj: $this->ajaxReturn(array("\x73\164\141\164\165\x73" => 0, "\x6d\163\147" => "\350\216\267\xe5\x8f\x96\x6f\160\145\156\151\x64\xe5\xa4\261\xe8\264\245", "\144\x61\164\x61" => '')); goto utYWI; B7AOV: if ($id) { goto TGItx; } goto TZuS5; j5i_D: $info = $user->getUserInfo(array("\165\x6e\x69\x61\143\x69\144" => $this->uniacid, "\157\x70\145\x6e\151\x64" => $result["\x6f\x70\145\x6e\x69\144"])); goto Q2Va1; utYWI: goto lIi0E; goto EQBzJ; EXV66: $this->ajaxReturn(array("\x73\x74\x61\x74\x75\163" => $result["\145\x72\x72\x63\157\x64\145"], "\155\163\147" => $result["\145\162\162\155\163\x67"], "\144\141\164\x61" => '')); goto wbAzI; pWihl: TGItx: goto fQ9Fn; PMaaR: $id = $user->WxOpenReg($userInfo, $this->uniacid); goto B7AOV; a7x_M: $this->ajaxReturn(array("\163\164\141\164\x75\163" => 1, "\155\163\x67" => "\346\x88\x90\xe5\212\237", "\x74\157\153\145\x6e" => $this->setToken($info["\156\x69\x63\153\x6e\141\155\x65"], $info["\165\163\145\162\137\x69\144"]), "\144\141\164\141" => $info)); goto hYVaq; IP2gB: $userInfo = I("\x70\x6f\x73\164\56"); goto l2RAJ; XXhj6: F8jmp: goto IP2gB; eodgk: $url = "\150\164\x74\x70\x73\72\x2f\x2f\x61\x70\x69\x2e\x77\x65\151\x78\151\156\x2e\x71\x71\56\143\x6f\x6d\57\x73\156\x73\x2f\x6a\x73\143\157\144\x65\x32\163\x65\x73\163\151\157\156\77\x61\160\160\x69\144\x3d" . config("\x61\x70\x70\x69\144") . "\x26\163\145\143\x72\145\164\75" . config("\141\x70\x70\x73\145\x63\x72\x65\164") . "\x26\152\163\x5f\x63\x6f\x64\x65\x3d" . $code . "\46\147\x72\x61\x6e\164\x5f\164\x79\160\145\75\x61\x75\164\150\157\x72\x69\x7a\x61\164\x69\x6f\156\137\x63\x6f\144\x65"; goto z_y4e; fuLOW: $user = D("\x75\x73\145\162"); goto lZSI7; GfCuI: goto goaHV; goto pWihl; lZSI7: if (!$result["\x6f\x70\145\156\151\x64"]) { goto vRyvk; } goto j5i_D; UzB5_: lIi0E: goto Px6Bv; l2RAJ: $userInfo["\x6f\x70\x65\x6e\x69\x64"] = $result["\x6f\160\145\x6e\x69\144"]; goto PMaaR; hYVaq: goto tK_dJ; goto XXhj6; z_y4e: $result = ihttp_get($url); goto dS7Gs; EQBzJ: m7DCn: goto FTvUm; dS7Gs: if ($result["\163\x74\x61\164\165\x73"] == "\x4f\113") { goto m7DCn; } goto kbQgj; zwFmw: goaHV: goto lw7QA; wbAzI: } public function submitOrder() { goto HlGO8; aPIt0: $this->ajaxReturn(array("\x73\164\141\x74\165\x73" => -100, "\155\163\147" => "\347\231\273\xe5\275\x95\xe8\xb6\205\346\227\266", "\x64\141\164\x61" => '')); goto eYHzK; XiR03: $data = array("\165\x6e\x69\141\x63\x69\144" => $uniacid, "\x6f\162\x64\145\162\x5f\163\x6e" => $this->get_order_sn($uniacid), "\165\163\145\162\137\x69\x64" => $user_id, "\157\162\144\145\162\x5f\x61\155\157\165\156\x74" => $order_amount, "\x61\144\144\137\164\151\x6d\x65" => time()); goto fH7gL; Ydhpn: goto s4S6T; goto sGxmc; eYHzK: QuqSV: goto XXocF; UBgIp: $order_amount = 0.01; goto XiR03; HlGO8: global $_GPC, $_W; goto d9Wt6; qFiJ4: if (!empty($token_info)) { goto QuqSV; } goto aPIt0; d9Wt6: $token_info = $this->checkToken(); goto qFiJ4; fH7gL: if (M("\x6f\x72\144\145\x72")->add($data)) { goto DoKib; } goto OC8vo; pHA2J: $this->ajaxReturn(array("\163\164\x61\164\165\163" => 1, "\x6d\163\x67" => "\346\217\x90\344\272\xa4\350\xae\242\345\x8d\x95\xe6\210\220\xe5\212\x9f", "\x64\141\x74\x61" => array("\157\162\144\145\162\x5f\x73\x6e" => $data["\157\x72\144\x65\x72\x5f\163\156"], "\x74\x6f\x74\141\154\137\146\145\145" => $data["\x6f\162\x64\x65\162\x5f\x61\x6d\x6f\165\x6e\x74"]))); goto qjbfN; qjbfN: s4S6T: goto SSPes; OC8vo: $this->ajaxReturn(array("\163\164\x61\x74\x75\163" => -1, "\x6d\163\x67" => "\346\217\x90\xe4\xba\244\xe8\xae\242\345\x8d\225\345\244\xb1\350\264\xa5")); goto Ydhpn; sGxmc: DoKib: goto pHA2J; OFrlm: $uniacid = $_W["\x75\156\151\x61\143\x69\144"]; goto UBgIp; XXocF: $user_id = $token_info["\165\x69\x64"]; goto OFrlm; SSPes: } public function wxPay() { goto bR61f; JIgIS: $data["\156\157\x6e\143\145\137\163\x74\162"] = getNonceStr(); goto F9l_o; byJTW: $data["\141\160\x70\x69\144"] = config("\x61\160\160\x69\144"); goto UB0lB; OYRwF: $data["\x6f\x75\164\137\164\162\x61\x64\145\x5f\156\157"] = $order_info["\x6f\162\144\145\x72\x5f\163\x6e"] . time(); goto aIQlE; FQaUd: if ($order_sn = intval($_GPC["\x6f\162\x64\145\x72\137\163\x6e"])) { goto us9iG; } goto hAcjV; AplsS: $this->ajaxReturn(array("\x73\164\x61\x74\165\x73" => 1, "\x6d\x73\x67" => "\346\210\x90\345\212\237", "\x64\x61\164\x61" => $payData)); goto COyVR; F9l_o: $data["\x62\157\x64\x79"] = "\xe6\224\xaf\xe4\273\230\xe8\256\xa2\345\215\x95\xef\xbc\x9a" . $order_info["\x6f\162\x64\145\x72\137\x73\156"]; goto ualdZ; LCJEa: $payString .= "\153\x65\x79\75" . config("\167\x78\153\145\171") . ''; goto wrkQ_; XoIBk: UH_Wo: goto a8Q40; aIQlE: $data["\156\x6f\164\151\x66\171\x5f\x75\162\x6c"] = $_W["\163\151\164\145\x72\x6f\157\164"] . "\x61\144\144\x6f\156\163\57\x66\x7a\161\171\x5f\x63\150\x65\156\57\x6e\157\164\x69\146\x79\56\x70\x68\160"; goto qimeO; MYOaZ: $data["\x74\x72\141\x64\145\x5f\164\x79\160\x65"] = "\x4a\123\x41\120\111"; goto k2HAH; OwFBg: c7L8H: goto LCJEa; TNSlP: $this->ajaxReturn(array("\163\x74\x61\164\x75\x73" => -2, "\155\x73\147" => "\350\257\245\347\x94\250\xe6\210\xb7\344\xb8\x8d\345\255\230\xe5\234\250", "\x64\x61\164\x61" => '')); goto mjNZm; fV2zM: $payData["\x6e\x6f\156\x63\x65\x53\x74\162"] = getNonceStr(); goto cS0v3; spoM0: $response = https_request("\150\164\164\x70\163\x3a\57\57\x61\x70\x69\x2e\155\x63\x68\56\167\x65\x69\x78\151\x6e\56\x71\x71\56\143\157\x6d\57\160\x61\171\x2f\165\x6e\151\x66\x69\145\x64\157\x72\x64\145\x72", $xmlData); goto XUdvf; k8QBl: $data["\157\x70\x65\156\151\144"] = $openid; goto JIgIS; ZCJBH: ksort($data, SORT_STRING); goto cYQa0; ruJsl: if (!empty($token_info)) { goto UH_Wo; } goto yoxxL; tD88R: $this->ajaxReturn(array("\x73\164\141\164\165\163" => -3, "\x6d\x73\x67" => $result["\162\x65\x74\165\x72\156\x5f\155\x73\x67"], "\144\141\x74\141" => '')); goto odp5x; Imbs0: if ($openid) { goto mqTtv; } goto TNSlP; nTfSU: $data = array(); goto byJTW; yoxxL: $this->ajaxReturn(array("\x73\x74\x61\x74\165\x73" => -100, "\155\163\x67" => "\347\231\273\xe5\xbd\x95\xe8\xb6\205\xe6\x97\xb6", "\144\x61\x74\x61" => '')); goto XoIBk; qimeO: $data["\164\x6f\164\141\154\137\x66\145\x65"] = $order_info["\x6f\x72\x64\145\x72\137\x61\155\157\x75\x6e\x74"] * 100; goto U4Ygt; G50gB: if (!($order_info["\x6f\162\144\145\x72\x5f\163\x74\141\164\x75\x73"] == 1)) { goto rEljU; } goto Jav6W; XUdvf: $result = json_decode(json_encode(simplexml_load_string($response, "\123\151\x6d\160\154\145\x58\x4d\x4c\105\154\x65\155\x65\156\164", LIBXML_NOCDATA)), true); goto YjDBC; lQEUG: $data["\x73\x69\147\156"] = strtoupper(md5($string)); goto JJLN5; smeNr: $payData["\163\151\x67\156\124\171\x70\x65"] = "\x4d\104\x35"; goto FBS1i; cYQa0: $string = ''; goto xIvNW; MRgmw: rEljU: goto nTfSU; bjwFh: $payData["\141\x70\160\x49\x64"] = $data["\141\x70\x70\151\144"]; goto GSCdA; ualdZ: $data["\141\x74\164\141\143\150"] = $_W["\x75\156\151\141\x63\151\x64"]; goto OYRwF; bR61f: global $_GPC, $_W; goto uksLg; yyh4o: us9iG: goto EKhes; GSCdA: $payData["\164\151\x6d\x65\x53\x74\x61\155\160"] = (string) time(); goto fV2zM; cS0v3: $payData["\x70\141\143\153\141\147\145"] = "\x70\162\x65\x70\141\x79\x5f\x69\x64\x3d" . $result["\160\162\x65\160\141\x79\x5f\x69\144"]; goto smeNr; IkAIX: foreach ($payData as $key => $v) { $payString .= "{$key}\75{$v}\x26"; hreLp: } goto OwFBg; COyVR: YHQk5: goto tD88R; k2HAH: $data["\164\151\155\145\x5f\163\164\141\162\x74"] = date("\x59\155\144\x48\x69\x73"); goto QTS8m; UB0lB: $data["\x6d\143\150\137\x69\144"] = config("\x6d\143\150\151\x64"); goto k8QBl; uksLg: $token_info = $this->checkToken(); goto ruJsl; QTS8m: $data["\x74\151\x6d\x65\x5f\145\x78\160\151\162\x65"] = date("\131\x6d\x64\110\151\x73", time() + 600); goto ZCJBH; xIvNW: foreach ($data as $key => $v) { goto N072d; N072d: if (!empty($v)) { goto Rbw0W; } goto nwB_a; P5CQN: $string .= "{$key}\x3d{$v}\46"; goto b7K3z; KD9WF: Rbw0W: goto P5CQN; b7K3z: B1hv9: goto XjOCm; nwB_a: goto B1hv9; goto KD9WF; XjOCm: } goto A2RCg; hAcjV: $this->ajaxReturn(array("\163\164\141\164\165\x73" => -1, "\x6d\x73\x67" => "\xe8\256\242\xe5\215\x95\xe4\xb8\x8d\345\255\230\345\x9c\250", "\144\x61\164\x61" => '')); goto yyh4o; mjNZm: mqTtv: goto QXkfb; FBS1i: $payString = ''; goto GwcMX; QXkfb: $order_info = M("\x6f\x72\144\x65\x72")->where(array("\x6f\x72\144\x65\x72\137\x73\156" => $order_sn, "\165\156\151\141\143\151\x64" => $_W["\165\x6e\151\x61\x63\151\144"]))->find(); goto G50gB; U4Ygt: $data["\x73\x70\142\x69\154\x6c\137\143\x72\x65\141\x74\x65\x5f\x69\x70"] = $_SERVER["\122\x45\x4d\117\124\x45\137\x41\x44\104\x52"]; goto MYOaZ; EKhes: $openid = M("\165\163\145\x72")->where(array("\165\x73\145\x72\x5f\x69\144" => $user_id, "\165\x6e\151\x61\143\x69\144" => $_W["\165\156\x69\141\x63\151\x64"]))->getField("\157\x70\145\156\x69\x64"); goto Imbs0; YjDBC: if (!($result["\x72\x65\164\x75\x72\x6e\x5f\x63\157\144\145"] == "\123\x55\103\103\105\x53\x53")) { goto YHQk5; } goto bjwFh; Jav6W: $this->ajaxReturn(array("\x73\164\x61\x74\x75\163" => -3, "\x6d\x73\147" => "\xe6\255\xa4\350\256\xa2\xe5\215\x95\357\xbc\214\345\xb7\262\345\xae\x8c\xe6\210\220\346\224\xaf\xe4\273\x98", "\144\x61\164\x61" => '')); goto MRgmw; DxGYS: $string .= "\153\145\171\75" . config("\167\170\x6b\145\171") . ''; goto lQEUG; GwcMX: ksort($payData, SORT_STRING); goto IkAIX; A2RCg: BAzAx: goto DxGYS; JJLN5: $xmlData = array2xml($data); goto spoM0; wrkQ_: $payData["\160\141\171\123\x69\x67\156"] = strtoupper(md5($payString)); goto AplsS; a8Q40: $user_id = $token_info["\165\151\x64"]; goto FQaUd; odp5x: } public function wxNotify() { goto pzXlU; cgidM: I8_71: goto XfOpi; fHQql: $order_sn = substr($order_sn, 0, 18); goto VDk3s; gyYJo: md0Pm: goto A1Jg2; Lg10Z: $order_sn = $out_trade_no = $params["\x6f\x75\164\x5f\164\162\141\x64\x65\137\156\x6f"]; goto Zqht0; JLD1J: exit; goto bVLDY; sjPvc: R3rbR: goto C3cNU; C3cNU: mvAuM: goto cgidM; WLO2z: echo array2xml($result); goto JLD1J; I3S9k: echo array2xml($result); goto qo7yG; VDk3s: q7zUW: goto gB1yJ; hvz3U: if (!$res) { goto R3rbR; } goto Mp2MT; Blca1: if (!($orderInfo && $orderInfo["\157\x72\x64\145\x72\x5f\x73\164\141\164\165\163"] == 0)) { goto mvAuM; } goto OZ3uZ; XfOpi: $result = array("\x72\145\x74\165\x72\x6e\x5f\x63\157\x64\145" => "\x46\x41\x49\x4c", "\162\x65\164\x75\162\x6e\x5f\155\x73\147" => ''); goto WLO2z; nL2nD: if (!($sign == $params["\163\151\x67\156"])) { goto I8_71; } goto Lg10Z; MPbYA: foreach ($params as $k => $v) { goto eEidt; sIiu7: je7R5: goto NoLHP; oQQCo: $string1 .= "{$k}\x3d{$v}\46"; goto FzN_a; eEidt: if (!($v != '' && $k != "\x73\x69\x67\156")) { goto m3tPE; } goto oQQCo; FzN_a: m3tPE: goto sIiu7; NoLHP: } goto gyYJo; OZ3uZ: $res = M("\157\162\x64\x65\x72")->where(array("\x6f\x72\x64\x65\x72\x5f\x69\x64" => $orderInfo["\157\x72\x64\x65\162\x5f\x69\x64"], "\x75\x6e\x69\141\x63\x69\144" => $uniacid))->setField("\157\x72\144\145\162\137\163\x74\x61\x74\x75\x73", 1); goto hvz3U; A1Jg2: $wxkey = config("\167\x78\153\x65\x79"); goto HqMUH; Mp2MT: $result = array("\162\145\164\x75\x72\156\x5f\143\x6f\144\x65" => "\x53\x55\103\103\x45\123\123", "\162\x65\164\x75\x72\x6e\x5f\155\163\x67" => "\x4f\x4b"); goto I3S9k; HqMUH: $sign = strtoupper(md5($string1 . "\153\x65\171\x3d{$wxkey}")); goto nL2nD; oXZAg: $uniacid = $_W["\165\156\151\141\143\x69\x64"] = $params["\141\x74\x74\x61\143\x68"]; goto cpbxn; Zqht0: if (!(strlen($order_sn) > 18)) { goto q7zUW; } goto fHQql; RloS9: $string1 = ''; goto MPbYA; gB1yJ: $orderInfo = M("\x6f\x72\144\x65\162")->where(array("\157\x72\x64\x65\162\x5f\x73\156" => $order_sn, "\x75\x6e\x69\x61\x63\x69\x64" => $uniacid))->find(); goto Blca1; cpbxn: ksort($params); goto RloS9; d7DAA: $params = $_GPC["\167\x78\x70\x61\x79\137\x72\145\x71\x65\x75\163\164"]; goto oXZAg; pzXlU: global $_GPC, $_W; goto d7DAA; qo7yG: exit; goto sjPvc; bVLDY: } public function get_order_sn($uniacid = 0) { goto eGDgC; o6LfZ: dIk4j: goto jfCJx; PNLw4: if (!($order_sn_count == 0)) { goto dIk4j; } goto XDGgc; ifMCF: JkVXs: goto FWmDS; XDGgc: goto JkVXs; goto o6LfZ; TYqbl: $order_sn_count = M("\157\x72\x64\x65\x72")->where(array("\x6f\x72\144\145\x72\137\x73\x6e" => $order_sn, "\165\x6e\x69\141\143\x69\x64" => $uniacid))->count(); goto PNLw4; jfCJx: goto LqJJz; goto ifMCF; eGDgC: $order_sn = null; goto Dpgpo; qXbM5: $order_sn = date("\131\155\144\110\x69\163") . rand(1000, 9999); goto TYqbl; Dpgpo: LqJJz: goto koCLC; koCLC: if (!true) { goto JkVXs; } goto qXbM5; FWmDS: return $order_sn; goto WLdEK; WLdEK: } }